(self["webpackChunkwebpack_mobile"] = self["webpackChunkwebpack_mobile"] || []).push([[8712],{

/***/ 77744:
/***/ ((module) => {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABfSURBVHgB7c/BCcAwCIXhRyfICI7QEd2wI3SEdgNrwIYcvCTmFPxBkBw+DDCYiJDOpXPrnIhkWIX+GLM5WN0JMyW2E2YgR7DDeXu7vSCaXlSWftlQSjTRFiNahz7ehR+FEYcM5fgChwAAAABJRU5ErkJggg==";

/***/ }),

/***/ 868964:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "static/media/circle-close.21d10fae8a1d012f82f3.png";

/***/ }),

/***/ 542937:
/***/ ((module) => {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACFSURBVHgBxdXRDYAgDARQ4iSOwghuKhsxygmRLyOl7dnYhA+N9yKUQAKQ2zjb2BNZ3RhW7g8Fd1UGH2gdVnm+cOFTg8GXWQ+uzlhw849oAu6lk4IA2ew3gEYFnEcnuBrd0h8VshQhzQvZbpqgGbcE1N96prjMgGgKIs5iEUfg1ZTx/WV6XGXCqgelNErUAAAAAElFTkSuQmCC";

/***/ }),

/***/ 799247:
/***/ ((module) => {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAbCAYAAACX6BTbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgBtVbhWQMhDA1+HYARGMERboTboDdCN9ARdAK/TlA3uM8JdAPcADeIxCbXHB4tCL4fPQjwHiQkFCADRJzwjAH+iN2VsT1/LYs5GTDGfEILIlngnXvVFlB/5tO5Gl4itvgbPiNEtkMtuVcE9xvjE+9eQG1bKuCUwOuVeZOa914jQDt8unVjko2ctkgcNIAFJB6THpBAlR0pL3CQIIthXBkaodwz3MX+yPZn6IMjf/fAEUZsSHMNuraLJ9Q9bfK3IpcEDIZ+yRjrhYFOEE7y+ZcoQgdonoU8wkEfSKn4IPI37ozQBws5HWP4p3s+poby0rlNbDnTvTbKkxY61RibGk/inlsCcfxhVZwKFK3KVp9brDKQ8FJ8UhaY1eKZXWaTeY9qjseaHMFz6fS4RsDLO5qiLgE5MPJOhozQTxtawWJOfIyXd2DOrdlBITb+CEnZOObWfAP5AGjh4W+n7wAAAABJRU5ErkJggg==";

/***/ }),

/***/ 79251:
/***/ ((module) => {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgB7ZfhDYIwEIVfjQM4AhvoCG6gG+gGuoITwAbiBjIBI6gbMIJOgNdQIonQXkto+HFf8tLk8izPcoUCCMI4FEZQ1/WWhj1pbUovUqaUqhAbCpPWPx5GLSli0gmTkVadekLKo4YyF9VcLZ7MeLaIEKi9WGLxrNoVRIRApe4Xhk/3VAlP1MBkJzS7p4+NGZ+w4/IVtBv/VnA5YFaWiV1BMODj/hE75hZ5L33oPAvMDAnkIjiQ3omkM7c+eSA0j4WdR52F9JALCeRCArmYXaAlwik86yyCA/WdZWx1LtJDLjiBPqRN93PHF/PbhOPl9FCO5mWpD+0VwtDHVx3q4jKyPqUpyJGGA8J5k27U8HcIwsR8Adpuub1EIVFhAAAAAElFTkSuQmCC";

/***/ }),

/***/ 301313:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(818414);
const DisabledByContainerContext=(0,_retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_0__.createContext)(false);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisabledByContainerContext);

/***/ }),

/***/ 941288:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ maybeConvertBase64EncodedImage)
/* harmony export */ });
function maybeConvertBase64EncodedImage(maybeBase64Encoded){if(/^[A-Za-z0-9+/]+={0,2}$/i.test(maybeBase64Encoded.substring(0,400000))){const maybeSVG=maybeBase64Encoded.startsWith('PD94');return`data:image/${maybeSVG?'svg+xml':''};base64,${maybeBase64Encoded}`;}return maybeBase64Encoded;}

/***/ }),

/***/ 369545:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  createFolder: () => (/* binding */ createFolder),
  deleteFile: () => (/* binding */ deleteFile),
  deleteFolder: () => (/* binding */ deleteFolder),
  getFile: () => (/* binding */ getFile),
  getFileMetadata: () => (/* binding */ getFileMetadata),
  getFiles: () => (/* binding */ getFiles),
  getFilesPaginated: () => (/* binding */ getFilesPaginated),
  getFolders: () => (/* binding */ getFolders),
  moveFileToFolder: () => (/* binding */ moveFileToFolder),
  moveFileToFolderName: () => (/* binding */ moveFileToFolderName),
  renameFolder: () => (/* binding */ renameFolder),
  updateFileMetadata: () => (/* binding */ updateFileMetadata),
  uploadFile: () => (/* binding */ uploadFile)
});

// EXTERNAL MODULE: ../frontend/src/common/pageUtils.ts
var pageUtils = __webpack_require__(90387);
// EXTERNAL MODULE: ../frontend/src/networking/index.ts + 1 modules
var networking = __webpack_require__(383520);
;// CONCATENATED MODULE: ../frontend/src/routes/RetoolStorage/publicAppUuidExtractor.ts
const PUBLIC_APP_URL_REGEX=/^\/embedded\/public\/[a-f0-9-]+(?:\?.*)?$/;const FORM_APP_URL_REGEX=/^\/form\/[a-f0-9-]+(?:\?.*)?$/;function getPublicAppUuid(pageUrl){const url=new URL(pageUrl);if(PUBLIC_APP_URL_REGEX.test(url.pathname)){return url.pathname.split('/').pop();}if(FORM_APP_URL_REGEX.test(url.pathname)){return url.pathname.split('/').pop();}return null;}
;// CONCATENATED MODULE: ../frontend/src/routes/RetoolStorage/api.ts
const BASE_URL='/api/files';async function getFiles({environmentId,name,limit}={}){const params={};if(environmentId)params.env=environmentId;if(name)params.name=name;if(limit)params.limit=String(limit);return (0,networking.callInternalApi)({url:`${BASE_URL}?${new URLSearchParams(params).toString()}`,method:'GET'});}async function getFilesPaginated(passedParams){const params={};Object.entries(passedParams).forEach(([key,value])=>{params[key]=String(value);});return (0,networking.callInternalApi)({url:`${BASE_URL}/list?${new URLSearchParams(params).toString()}`,method:'GET'});}async function getFileMetadata(fileId){return await (0,networking.callInternalApi)({url:`${BASE_URL}/${fileId}/metadata`,method:'GET'});}async function uploadFile(file,folderName,options){const formData=new FormData();const{fetchPolyfill,environmentId,shouldOverwriteOnNameCollision}=options;formData.append('file',file);const queryParams=[];if(folderName){queryParams.push(`folderName=${folderName}`);}if(environmentId){queryParams.push(`env=${environmentId}`);}if(shouldOverwriteOnNameCollision){queryParams.push(`shouldOverwriteOnNameCollision=true`);}if(options.isPublic){queryParams.push(`isPublic=true`);}let uploadUrl=`${BASE_URL}/upload${queryParams.length?`?${queryParams.join('&')}`:''}`;if((0,pageUtils.onEmbeddedPage)()){const pageUuid=getPublicAppUuid(window.location.href);if(pageUuid){uploadUrl=`/api/public/${pageUuid}/files/upload${queryParams.length?`?${queryParams.join('&')}`:''}`;}}const res=await (0,networking.callInternalApi)({url:uploadUrl,method:'POST',formDataBody:formData,fetchPolyfill});return res;}async function updateFileMetadata(fileId,metadata){return await (0,networking.callInternalApi)({url:`${BASE_URL}/${fileId}/metadata`,method:'POST',body:metadata});}async function deleteFile(fileId,environmentId){return await (0,networking.callInternalApi)({url:`${BASE_URL}/${fileId}${environmentId?`?env=${environmentId}`:''}`,method:'DELETE'});}async function getFile(fileId,pageUuid,environmentId){let url=`${BASE_URL}/${fileId}${environmentId?`?env=${environmentId}`:''}`;if((0,pageUtils.onEmbeddedPage)()&&pageUuid){url=`/api/public/${pageUuid}/files/${fileId}`;}return (0,networking.callInternalApi)({url,method:'GET',isFileStorageResponse:true});}async function getFolders(args){const{name,limit}=args!==null&&args!==void 0?args:{};const params={};if(name)params.name=name;if(limit)params.limit=String(limit);return (0,networking.callInternalApi)({url:`${BASE_URL}/folders?${new URLSearchParams(params).toString()}`,method:'GET'});}async function createFolder(folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders`,method:'POST',body:{folderName}});}async function deleteFolder(folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/${encodeURIComponent(folderName)}`,method:'DELETE'});}async function moveFileToFolder(fileId,folderId){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/moveFile`,method:'POST',body:{fileId,folderId}});}async function moveFileToFolderName(fileId,folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/moveFile`,method:'POST',body:{fileId,folderName}});}async function renameFolder(folderId,folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/rename`,method:'POST',body:{folderId,folderName}});}

/***/ }),

/***/ 552194:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RNFlatListCompat: () => (/* binding */ RNFlatListCompat)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(682409);
/* harmony import */ var _retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(818414);
/* harmony import */ var react_native_web_dist_exports_FlatList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(232995);
/* harmony import */ var _frontend_src_common_platform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(957163);
/* harmony import */ var _retool_builder_retool_development_mobile_node_modules_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(102658);
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const _RNFlatListCompat=(0,_retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function RNFlatListCompat(props,ref){var _props$data$length,_props$data;const key=((_props$data$length=(_props$data=props.data)===null||_props$data===void 0?void 0:_props$data.length)!==null&&_props$data$length!==void 0?_props$data$length:0)===0?'empty':'nonempty';return (0,_retool_builder_retool_development_mobile_node_modules_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_native_web_dist_exports_FlatList__WEBPACK_IMPORTED_MODULE_4__["default"],_objectSpread({ref:ref},props),key);});const RNFlatListCompat=_frontend_src_common_platform__WEBPACK_IMPORTED_MODULE_2__.PLATFORM==='web'?_RNFlatListCompat:react_native_web_dist_exports_FlatList__WEBPACK_IMPORTED_MODULE_4__["default"];

/***/ }),

/***/ 268712:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ ImageInputWidget)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(682409);
// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(828256);
// EXTERNAL MODULE: ../packages/runtimeShared/plugins/registry.ts + 28 modules
var registry = __webpack_require__(694366);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/ImageInput/template.ts
/* harmony default export */ const template = ({cameraOpened:'boolean',libraryOpened:'boolean',launchMode:['camera','cameraOnly','library'],resolution:['original','high','medium','low'],shouldCompress:'boolean',label:'string',placeholder:'string',disabled:'boolean',selectionType:['multiple','single'],maxCount:'number?',minCount:'number?',value:'string[]',files:'array',_defaultCameraType:['back','front'],uploadToRetoolStorage:'boolean',shouldOverwriteOnNameCollision:'boolean',isPublic:'boolean',hidden:'boolean'});
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/ImageInput/widgetRuntimeOptions.ts
/* harmony default export */ const widgetRuntimeOptions = ((0,registry.registerMobile)({typeKey:'RNImagePickerWidget',name:'ImageInput',template: template,events:['capture','open','close'],disableAutoAPI:['setValue'],propertyAnnotations:{value:{updatesSync:['files']},files:{computeValueOverride:({model})=>{var _model$value;if(((_model$value=model.value)===null||_model$value===void 0?void 0:_model$value.length)===0){return[];}return model.files;}}},api:({updateModel,getModel})=>({open:{metadata:{label:'Open image input',description:'Open the camera overlay or image library depending on selected input method.'},method:async()=>{var _getModel;const launchMode=(_getModel=getModel())===null||_getModel===void 0?void 0:_getModel.get('launchMode');if(launchMode==='library'){return updateModel({libraryOpened:true});}else{return updateModel({cameraOpened:true});}}},close:{metadata:{label:'Close camera over',description:'Close the camera overlay or image library if opened. Note: at this time, you cannot reliably close the image library on all platforms.'},method:async()=>updateModel({libraryOpened:false,cameraOpened:false})}}),validation:false}));
// EXTERNAL MODULE: ./src/components/plugins/widgets/connectMobileWidget.tsx + 9 modules
var connectMobileWidget = __webpack_require__(949699);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-toast-message@1.6.0_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.2_w2ptlr2k7f3d44bgbbtyojwe7i/node_modules/react-native-toast-message/index.js + 15 modules
var react_native_toast_message = __webpack_require__(630429);
// EXTERNAL MODULE: ../frontend/src/routes/RetoolStorage/api.ts + 1 modules
var api = __webpack_require__(369545);
// EXTERNAL MODULE: ./src/utilities/retoolStorage.ts
var retoolStorage = __webpack_require__(33189);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/handleFileChange.ts
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function buildFilename(basename,mimeType){if(basename.includes('.')){return basename;}switch(mimeType){case'image/jpeg':return`${basename}.jpg`;case'image/png':return`${basename}.png`;}return basename;}const handleFileChange=async(fileList,{updateModel,onChange,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,isValidNumberOfImages=true})=>{onChange();if(uploadToRetoolStorage&&isValidNumberOfImages){const clonedFiles=fileList.map(file=>_objectSpread(_objectSpread({},file),{},{uploading:!file.retoolStorageId&&!file.uploading}));updateModel({value:fileList.map(file=>file.uri),files:clonedFiles});await Promise.all(fileList.map(async(fileToUpload,i)=>{var _fileToUpload$uri$spl;if(fileToUpload.retoolStorageId||fileToUpload.uploading){return;}const filename=buildFilename((_fileToUpload$uri$spl=fileToUpload.uri.split('/').pop())!==null&&_fileToUpload$uri$spl!==void 0?_fileToUpload$uri$spl:'',fileToUpload.type);try{var _uploadedFile$name;const file=await (0,retoolStorage.createFileFromUri)(fileToUpload.uri,filename,fileToUpload.type);const uploadedFile=await (0,api.uploadFile)(file,'',{fetchPolyfill: retoolStorage.fetchPolyfill,shouldOverwriteOnNameCollision,isPublic});clonedFiles[i]=_objectSpread(_objectSpread({},clonedFiles[i]),{},{uploading:false,retoolStorageId:uploadedFile.id,name:(_uploadedFile$name=uploadedFile.name)!==null&&_uploadedFile$name!==void 0?_uploadedFile$name:clonedFiles[i].name});}catch(e){react_native_toast_message["default"].show({type:'error',text1:e.message});clonedFiles[i]=_objectSpread(_objectSpread({},clonedFiles[i]),{},{uploading:false});return;}updateModel({files:[...clonedFiles]});}));}else{updateModel({value:fileList.map(file=>file.uri),files:fileList});}};/* harmony default export */ const ImageInput_handleFileChange = (handleFileChange);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(818414);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Pressable/index.js + 4 modules
var Pressable = __webpack_require__(355710);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(584235);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/View/index.js
var View = __webpack_require__(716165);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-image-picker@15.0.7_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0_ilmmbqc2kfk5m2s6wc76m2gdii/node_modules/expo-image-picker/build/ImagePicker.js + 1 modules
var ImagePicker = __webpack_require__(805209);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-image-picker@15.0.7_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0_ilmmbqc2kfk5m2s6wc76m2gdii/node_modules/expo-image-picker/build/ImagePicker.types.js
var ImagePicker_types = __webpack_require__(694965);
// EXTERNAL MODULE: ../frontend/src/common/platform.ts + 1 modules
var platform = __webpack_require__(957163);
// EXTERNAL MODULE: ./src/localization/index.ts + 5 modules
var localization = __webpack_require__(37651);
// EXTERNAL MODULE: ./src/toolbox/Icon/Icon.tsx + 3683 modules
var Icon = __webpack_require__(832487);
// EXTERNAL MODULE: ./src/utilities/colors.ts
var colors = __webpack_require__(151391);
// EXTERNAL MODULE: ./src/utilities/showActionsheet.ts
var showActionsheet = __webpack_require__(899299);
// EXTERNAL MODULE: ./src/utilities/theme.ts
var utilities_theme = __webpack_require__(135758);
// EXTERNAL MODULE: ./src/utilities/ImageCacheProvider.tsx + 1 modules
var ImageCacheProvider = __webpack_require__(358853);
;// CONCATENATED MODULE: ./src/utilities/useImageCache.tsx
const useImageCache=()=>(0,react.useContext)(ImageCacheProvider.imageCacheContext);
// EXTERNAL MODULE: ./src/components/design-system/Button.tsx
var Button = __webpack_require__(681198);
// EXTERNAL MODULE: ./src/components/design-system/Label.tsx
var Label = __webpack_require__(768876);
// EXTERNAL MODULE: ../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js
var lodash = __webpack_require__(578105);
// EXTERNAL MODULE: ./src/toolbox/Box/index.tsx + 3 modules
var Box = __webpack_require__(958453);
// EXTERNAL MODULE: ./src/toolbox/Shimmer/index.tsx
var Shimmer = __webpack_require__(123226);
// EXTERNAL MODULE: ./src/components/RNFlatListCompat.tsx
var RNFlatListCompat = __webpack_require__(552194);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/ActivityIndicator/index.js
var ActivityIndicator = __webpack_require__(574170);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Image/index.js + 2 modules
var exports_Image = __webpack_require__(583573);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/ImageBackground/index.js
var ImageBackground = __webpack_require__(932711);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/components/utils/maybeConvertBase64EncodedImage.ts
var maybeConvertBase64EncodedImage = __webpack_require__(941288);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(102658);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageCarousel/CancellableImage.tsx
const defaultSrc='data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAQAAAAAAAAAAAAAAAAAAAAAA8J8HasaIBWRZAAAAAElFTkSuQmCC';const styles=StyleSheet["default"].create({image:{position:'relative',zIndex:0,aspectRatio:1,borderRadius:8,backgroundColor:'transparent',shadowColor:'0000000',shadowOpacity:0.05,shadowOffset:{width:0,height:4}},innerImage:{borderRadius:6,height:'100%',width:'100%'},selectedBorder:{borderColor:colors.lightBlue,borderWidth:4},loadingImage:{opacity:0},cancelButton:{position:'absolute',top:-4,right:-8},loadingContainer:{position:'absolute',display:'flex',justifyContent:'center',alignItems:'center',top:5,right:4,width:24,height:24,borderRadius:12,backgroundColor:'#fff'}});const CancellableImage=({index,src,onTap,onCancel,fetching=false,uploading=false,style,hideCancelButton=false,border=false,size=100})=>{const[loaded,setLoaded]=(0,react.useState)(false);const fallbackSrc=src?src:defaultSrc;const srcUrl=(0,maybeConvertBase64EncodedImage["default"])(fallbackSrc);const isLoading=fetching&&!loaded;return (0,jsx_runtime.jsxs)(View["default"],{testID:"image-carousel-cancellable-image",style:[style],children:[isLoading&&(0,jsx_runtime.jsx)(Box.Box,{position:"absolute",height:"100%",width:"100%",zIndex:1,children:(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:"100%"})}),(0,jsx_runtime.jsx)(Pressable["default"],{onPress:()=>onTap===null||onTap===void 0?void 0:onTap(index),style:({pressed})=>[styles.image,pressed&&{opacity:0.75}],children:(0,jsx_runtime.jsx)(ImageBackground["default"],{style:[styles.image,{width:size,height:size},isLoading&&styles.loadingImage],imageStyle:[styles.innerImage,border&&styles.selectedBorder],source:{uri:srcUrl},resizeMode:"cover",resizeMethod:"resize",onLoadEnd:()=>{setLoaded(true);}})}),!hideCancelButton?uploading?(0,jsx_runtime.jsx)(View["default"],{style:styles.loadingContainer,children:(0,jsx_runtime.jsx)(ActivityIndicator["default"],{size:"small",color:"#0D0D0D"})}):(0,jsx_runtime.jsx)(Pressable["default"],{testID:`cancellable-image-${index}`,hitSlop:20,onPress:()=>onCancel===null||onCancel===void 0?void 0:onCancel(index),style:({pressed})=>[styles.cancelButton,pressed&&{opacity:0.75}],children:(0,jsx_runtime.jsx)(exports_Image["default"],{source:__webpack_require__(868964),style:{width:50,height:50}})}):null,(0,jsx_runtime.jsx)(View["default"],{})]});};/* harmony default export */ const ImageCarousel_CancellableImage = (CancellableImage);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageCarousel/ImageCarousel.tsx
const LARGE_DIM=132;const SMALL_DIM=96;const PADDING=16;const ImageCarousel_styles=StyleSheet["default"].create({carouselContainerHorizontal:{height:LARGE_DIM,width:'100%'},carouselContainerVertical:{width:LARGE_DIM,height:'100%'},carouselContainerSmallHorizontal:{height:SMALL_DIM,width:'100%'},carouselContainerSmallVertical:{width:SMALL_DIM,height:'100%'},container:{flex:1,borderRadius:12,backgroundColor:colors.nearWhite},containerHorizontal:{flexDirection:'row',height:LARGE_DIM},containerVertical:{flexDirection:'column',width:LARGE_DIM},containerSmall:{flex:1,borderRadius:12,backgroundColor:'transparent'},containerSmallHorizontal:{flexDirection:'row',height:SMALL_DIM},containerSmallVertical:{flexDirection:'column',width:SMALL_DIM},cancelImage:{paddingHorizontal:12,paddingTop:PADDING,paddingBottom:PADDING}});const ImageCarousel=({images,onTap,onCancel,style='large',fetching=false,cancellable=true,selectedIndex=null,vertical=false})=>{const listRef=(0,react.useRef)(null);const renderItem=(0,react.useCallback)(({item,index})=>{return (0,jsx_runtime.jsx)(ImageCarousel_CancellableImage,{index:index,style:ImageCarousel_styles.cancelImage,src:item.uri,onTap:onTap,onCancel:onCancel,fetching:false,uploading:item.uploading||false,hideCancelButton:!cancellable,border:index===selectedIndex,size:style==='small'?SMALL_DIM-PADDING*2:LARGE_DIM-PADDING*2});},[onTap,onCancel,cancellable,selectedIndex,style]);let containerStyle=[];let carouselContainerStyle;if(style==='small'){carouselContainerStyle=vertical?ImageCarousel_styles.carouselContainerSmallVertical:ImageCarousel_styles.carouselContainerSmallHorizontal;containerStyle=vertical?[ImageCarousel_styles.containerSmall,ImageCarousel_styles.containerSmallVertical]:[ImageCarousel_styles.containerSmall,ImageCarousel_styles.containerSmallHorizontal];}else{carouselContainerStyle=vertical?ImageCarousel_styles.carouselContainerVertical:ImageCarousel_styles.carouselContainerHorizontal;containerStyle=vertical?[ImageCarousel_styles.container,ImageCarousel_styles.containerVertical]:[ImageCarousel_styles.container,ImageCarousel_styles.containerHorizontal];}return (0,jsx_runtime.jsxs)(View["default"],{testID:"image-carousel",style:carouselContainerStyle,children:[fetching?(0,jsx_runtime.jsx)(Box.Box,{position:"absolute",height:"100%",width:"100%",zIndex:1,children:(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:"100%"})}):null,(0,jsx_runtime.jsx)(RNFlatListCompat.RNFlatListCompat,{horizontal:!vertical,initialScrollIndex:selectedIndex,style:containerStyle,data:images,renderItem:renderItem,onContentSizeChange:()=>{if(selectedIndex===null){var _listRef$current;(_listRef$current=listRef.current)===null||_listRef$current===void 0?void 0:_listRef$current.scrollToEnd();}},getItemLayout:(_,index)=>{const length=style==='small'?SMALL_DIM:LARGE_DIM;return{length,offset:(length-8)*index,index};},onScrollToIndexFailed:info=>{(0,lodash.debounce)(()=>{var _listRef$current2;return(_listRef$current2=listRef.current)===null||_listRef$current2===void 0?void 0:_listRef$current2.scrollToIndex({index:info.index,animated:true});},100);},ref:listRef})]});};/* harmony default export */ const ImageCarousel_ImageCarousel = (ImageCarousel);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StatusBar/index.js
var StatusBar = __webpack_require__(763357);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Text/index.js
var Text = __webpack_require__(351355);
// EXTERNAL MODULE: ./src/utilities/useCurrentScreenDimensions.ts
var useCurrentScreenDimensions = __webpack_require__(323804);
// EXTERNAL MODULE: ./src/utilities/useIsScreenPortrait.ts
var useIsScreenPortrait = __webpack_require__(191305);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInputCameraModalDisplayStyles.ts
const TABLET_DEVICE_ASPECT_RATIO_BREAKPOINT=14/25;const previewButtonBoxHeight=124;const ImageInputCameraModalDisplayStyles_styles=StyleSheet["default"].create({topButtonBoxPortrait:{paddingHorizontal:24,flexDirection:'row',justifyContent:'space-between',alignContent:'center',zIndex:2,backgroundColor:'#0D0D0D99',paddingBottom:8},topButtonBoxPortraitPreview:{position:'absolute',top:0,width:'100%'},topButtonBoxLandscape:{paddingHorizontal:24,flexDirection:'row',justifyContent:'space-between',alignContent:'center',zIndex:2,marginStart:16,paddingVertical:4},topButtonBoxLandscapePreview:{position:'absolute',top:0,height:'100%'},portraitPreviewImageBox:{aspectRatio:3/4,justifyContent:'center'},notTabletPortraitPreviewImageBox:{paddingBottom:previewButtonBoxHeight},landscapePreviewImageBox:{flex:1,flexDirection:'row',justifyContent:'center',alignContent:'center'},nonTabletLandscapePreviewImageBox:{paddingEnd:previewButtonBoxHeight},portraitPreviewContainer:{flex:1,alignContent:'center',justifyContent:'center'},landscapePreviewContainer:{flex:1,alignContent:'center',justifyContent:'center'},bottomContainer:{flex:1,backgroundColor:'#0D0D0D99',justifyContent:'flex-end',position:'absolute',paddingBottom:24,bottom:0,width:'100%'},sideContainer:{flex:1,backgroundColor:'#0D0D0D99',justifyContent:'flex-end',position:'absolute',right:0,height:'100%',paddingEnd:36},portraitCarouselStyle:{},landscapeCarouselStyle:{paddingEnd:18,height:'100%'},portraitButtonBox:{paddingTop:18,backgroundColor:'transparent',flexDirection:'row',alignItems:'center',justifyContent:'center',marginHorizontal:24},portraitButtonBoxPreview:{justifyContent:'space-between'},landscapeButtonBox:{backgroundColor:'transparent',flexDirection:'column-reverse',alignItems:'center',justifyContent:'space-between',paddingVertical:4},startButtonPortrait:{width:'33%',alignItems:'flex-start'},startButtonLandscape:{},centerButtonPortrait:{width:'33%',alignItems:'center'},centerButtonLandscape:{},endButtonPortrait:{width:'33%',alignItems:'flex-end'},endButtonLandscape:{},backButton:{height:24,width:24},backButtonLandscape:{margin:16},outerCircle:{borderWidth:2,borderRadius:72,borderColor:'white',height:72,width:72,display:'flex',justifyContent:'center',alignItems:'center'},innerCircle:{borderWidth:2,borderRadius:58,borderColor:'white',height:58,width:58,backgroundColor:'white'},disabledCircle:{opacity:0.75},textButton:{color:'white',fontSize:17,lineHeight:22},iosTopPadding:{paddingTop:48},topPadding:{paddingTop:'10%'},alignCenter:{alignItems:'center'},buttonDownState:{opacity:0.75},tabletLikeLandscapePadding:{paddingVertical:16},tabletImageStyle:{position:'absolute'}});
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInputFilePreview.tsx
const ImageInputFilePreviewContents=({initialIndex,selectionType,currentImages,savePhoto,deletePhoto,dismissPreview})=>{const[index,setIndex]=(0,react.useState)(initialIndex);const photo=currentImages[index];const photoUri=photo===null||photo===void 0?void 0:photo.uri;const aspectRatio=photo?photo.width/photo.height:3/4;const isScreenPortrait=(0,useIsScreenPortrait["default"])();const shouldAddTopPaddingWeb=platform.PLATFORM==='web'&&isScreenPortrait;const shouldAddTopPaddingiOS=platform.PLATFORM==='ios'&&isScreenPortrait;const{width,height}=(0,useCurrentScreenDimensions["default"])();const isNotTabletLike=isScreenPortrait&&width/height<TABLET_DEVICE_ASPECT_RATIO_BREAKPOINT||isScreenPortrait===false&&height/width<TABLET_DEVICE_ASPECT_RATIO_BREAKPOINT;const tapCallback=(0,react.useCallback)(indexChosen=>{setIndex(indexChosen);},[setIndex]);const adjustedColumnDirectionStyle=(0,react.useMemo)(()=>{if(isScreenPortrait){return{flexDirection:'column'};}else{return{flexDirection:'row'};}},[isScreenPortrait]);const adjustedHeightStyle=(0,react.useMemo)(()=>{if(isScreenPortrait){return{width:'100%'};}else{return{height:'100%'};}},[isScreenPortrait]);const leftElement=()=>{if(selectionType==='single'){return (0,jsx_runtime.jsx)(Pressable["default"],{onPress:dismissPreview,style:({pressed})=>[pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState,ImageInputCameraModalDisplayStyles_styles.alignCenter],hitSlop:30,children:(0,jsx_runtime.jsx)(Text["default"],{style:ImageInputCameraModalDisplayStyles_styles.textButton,children:(0,localization.localizedString)('Retake')})});}else{return (0,jsx_runtime.jsx)(Pressable["default"],{onPress:()=>deletePhoto(index),style:({pressed})=>[pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState,ImageInputCameraModalDisplayStyles_styles.alignCenter],hitSlop:30,children:(0,jsx_runtime.jsx)(exports_Image["default"],{source:__webpack_require__(79251),style:{height:36,width:36}})});}};const rightElement=()=>{if(selectionType==='single'){return (0,jsx_runtime.jsx)(Pressable["default"],{onPress:savePhoto,style:({pressed})=>[pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState,ImageInputCameraModalDisplayStyles_styles.alignCenter],hitSlop:30,children:(0,jsx_runtime.jsx)(Text["default"],{style:ImageInputCameraModalDisplayStyles_styles.textButton,children:(0,localization.localizedString)('Use Photo')})});}else{return null;}};(0,react.useEffect)(()=>{if(currentImages.length===0){savePhoto();}else if(index>=currentImages.length){setIndex(Math.max(0,index-1));}},[index,setIndex,savePhoto,currentImages]);return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StatusBar["default"],{backgroundColor:colors.nearBlack}),(0,jsx_runtime.jsxs)(View["default"],{style:[StyleSheet["default"].absoluteFill,{backgroundColor:colors.nearBlack}],children:[(0,jsx_runtime.jsx)(View["default"],{style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.topButtonBoxPortrait:ImageInputCameraModalDisplayStyles_styles.topButtonBoxLandscape,isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.topButtonBoxPortraitPreview:ImageInputCameraModalDisplayStyles_styles.topButtonBoxLandscapePreview,shouldAddTopPaddingWeb&&ImageInputCameraModalDisplayStyles_styles.topPadding,shouldAddTopPaddingiOS&&ImageInputCameraModalDisplayStyles_styles.iosTopPadding],children:selectionType!=='single'?(0,jsx_runtime.jsx)(Pressable["default"],{onPress:savePhoto,style:({pressed})=>[pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState,ImageInputCameraModalDisplayStyles_styles.backButton,isScreenPortrait===false&&ImageInputCameraModalDisplayStyles_styles.backButtonLandscape],hitSlop:30,children:(0,jsx_runtime.jsx)(exports_Image["default"],{source:__webpack_require__(77744),style:[{tintColor:'white',width:20,height:20}]})}):null}),(0,jsx_runtime.jsx)(View["default"],{style:[adjustedColumnDirectionStyle,isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.portraitPreviewContainer:ImageInputCameraModalDisplayStyles_styles.landscapePreviewContainer],children:(0,jsx_runtime.jsx)(View["default"],{style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.portraitPreviewImageBox:ImageInputCameraModalDisplayStyles_styles.landscapePreviewImageBox,isNotTabletLike?isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.notTabletPortraitPreviewImageBox:ImageInputCameraModalDisplayStyles_styles.nonTabletLandscapePreviewImageBox:null,adjustedHeightStyle],children:(0,jsx_runtime.jsx)(ImageBackground["default"],{source:{uri:photoUri},style:[{aspectRatio,backgroundColor:colors.nearBlack},adjustedHeightStyle]})})})]}),(0,jsx_runtime.jsxs)(View["default"],{pointerEvents:"box-none",style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.bottomContainer:ImageInputCameraModalDisplayStyles_styles.sideContainer,adjustedColumnDirectionStyle],children:[(0,jsx_runtime.jsx)(View["default"],{style:ImageInputCameraModalDisplayStyles_styles.portraitCarouselStyle,children:(0,jsx_runtime.jsx)(ImageCarousel_ImageCarousel,{images:currentImages,fetching:false,style:"small",cancellable:false,onTap:tapCallback,selectedIndex:index,vertical:!isScreenPortrait})}),(0,jsx_runtime.jsxs)(View["default"],{style:isScreenPortrait?[ImageInputCameraModalDisplayStyles_styles.portraitButtonBox,ImageInputCameraModalDisplayStyles_styles.portraitButtonBoxPreview]:ImageInputCameraModalDisplayStyles_styles.landscapeButtonBox,children:[leftElement(),(0,jsx_runtime.jsx)(View["default"],{style:{height:ImageInputCameraModalDisplayStyles_styles.outerCircle.height,width:ImageInputCameraModalDisplayStyles_styles.outerCircle.width}}),rightElement()]})]})]});};const useImageInputPreviewState=()=>{const[imagePreviewState,setImagePreviewState]=(0,react.useState)(null);const clearImagePreviewState=(0,react.useCallback)(()=>{setImagePreviewState(null);},[setImagePreviewState]);return[imagePreviewState,setImagePreviewState,clearImagePreviewState];};const ImageInputFilePreview=props=>{const{index,selectionType,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,files,updateModel,onDismissPreview,onDismissModal}=props;const[currentWidgetImages,setCurrentWidgetImages]=(0,react.useState)(files);const initialNumImages=currentWidgetImages.length;const deletePhoto=(0,react.useCallback)(async index=>{(0,showActionsheet.showActionSheet)({title:'Are you sure?',subtitle:'This action cannot be undone.',options:[{label:(0,localization.localizedString)('Delete photo'),color:'red',value:'delete'},{label:(0,localization.localizedString)('Cancel'),value:'cancel'}],onChange:async value=>{if(value==='delete'){const arr=[...currentWidgetImages];arr.splice(index,1);setCurrentWidgetImages(arr);}}});},[currentWidgetImages,setCurrentWidgetImages]);const onSavePhoto=(0,react.useCallback)(async()=>{if(currentWidgetImages.length===initialNumImages){if(selectionType==='single'){onDismissModal===null||onDismissModal===void 0?void 0:onDismissModal();}else{onDismissPreview();}}await ImageInput_handleFileChange(currentWidgetImages,{onChange:()=>{},updateModel,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic});},[currentWidgetImages,initialNumImages,isPublic,onDismissPreview,onDismissModal,selectionType,shouldOverwriteOnNameCollision,updateModel,uploadToRetoolStorage]);const handleDismissPreview=(0,react.useCallback)(async()=>{await ImageInput_handleFileChange([],{onChange:()=>{},updateModel,uploadToRetoolStorage:false,shouldOverwriteOnNameCollision:false,isPublic:false});onDismissPreview();},[onDismissPreview,updateModel]);return (0,jsx_runtime.jsx)(ImageInputFilePreviewContents,{initialIndex:index,selectionType:selectionType,currentImages:currentWidgetImages,savePhoto:onSavePhoto,deletePhoto:deletePhoto,dismissPreview:handleDismissPreview});};
// EXTERNAL MODULE: ./src/toolbox/Modal/index.tsx + 4 modules
var Modal = __webpack_require__(424930);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInputFilePreviewModal.tsx
function ImageInputFilePreviewModal_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function ImageInputFilePreviewModal_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImageInputFilePreviewModal_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImageInputFilePreviewModal_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const ImageInputFilePreviewModal=props=>{const{onDismissPreview}=props;return (0,jsx_runtime.jsx)(Modal.Modal,{visible:true,onRequestClose:onDismissPreview,children:(0,jsx_runtime.jsx)(ImageInputFilePreview,ImageInputFilePreviewModal_objectSpread({},props))});};
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Animated/index.js + 39 modules
var Animated = __webpack_require__(216284);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-camera@15.0.16_patch_hash=tjwfk4i7ezovpjnzyo44fuwmoe_expo@51.0.21_@babel+preset-env@7.24_6wqnxlmxsmp5wis5mhz2dvvlhq/node_modules/expo-camera/build/legacy/Camera.types.js
var Camera_types = __webpack_require__(387964);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-camera@15.0.16_patch_hash=tjwfk4i7ezovpjnzyo44fuwmoe_expo@51.0.21_@babel+preset-env@7.24_6wqnxlmxsmp5wis5mhz2dvvlhq/node_modules/expo-camera/build/legacy/Camera.js + 9 modules
var Camera = __webpack_require__(124389);
// EXTERNAL MODULE: ./src/components/plugins/widgets/common/CameraPermissionScreen.tsx
var CameraPermissionScreen = __webpack_require__(567722);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/UnavailabilityError.js
var UnavailabilityError = __webpack_require__(560909);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/CodedError.js
var CodedError = __webpack_require__(297768);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/utils/getContext.web.js
function getContext(canvas){const ctx=canvas.getContext('2d');if(!ctx){throw new CodedError.CodedError('ERR_IMAGE_MANIPULATOR','Failed to create canvas context');}return ctx;}
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/actions/CropAction.web.js
/* harmony default export */ const CropAction_web = ((canvas,options)=>{let{originX=0,originY=0,width=0,height=0}=options;const clamp=(value,max)=>Math.max(0,Math.min(max,value));width=clamp(width,canvas.width);height=clamp(height,canvas.height);originX=clamp(originX,canvas.width);originY=clamp(originY,canvas.height);width=Math.min(originX+width,canvas.width)-originX;height=Math.min(originY+height,canvas.height)-originY;if(width===0||height===0){throw new CodedError.CodedError('ERR_IMAGE_MANIPULATOR_CROP','Crop size must be greater than 0: '+JSON.stringify(options,null,2));}const result=document.createElement('canvas');result.width=width;result.height=height;const context=getContext(result);context.drawImage(canvas,originX,originY,width,height,0,0,width,height);return result;});
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/actions/ExtentAction.web.js
/* harmony default export */ const ExtentAction_web = ((canvas,options)=>{const{backgroundColor=null,originX=0,originY=0,width=0,height=0}=options;if(width===0||height===0){throw new CodedError.CodedError('ERR_IMAGE_MANIPULATOR_EXTENT','Extent size must be greater than 0: '+JSON.stringify(options,null,2));}const result=document.createElement('canvas');result.width=width;result.height=height;const sx=originX<0?0:originX;const sy=originY<0?0:originY;const sw=originX<0?Math.min(canvas.width,width+originX):Math.min(canvas.width-originX,width);const sh=originY<0?Math.min(canvas.height,height+originY):Math.min(canvas.height-originY,height);const dx=originX<0?-originX:0;const dy=originY<0?-originY:0;const context=getContext(result);if(backgroundColor!=null){context.fillStyle=backgroundColor;context.fillRect(0,0,width,height);}context.drawImage(canvas,sx,sy,sw,sh,dx,dy,sw,sh);return result;});
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/actions/ResizeAction.web.js
function resampleSingle(canvas,width,height,resizeCanvas=false){const result=document.createElement('canvas');result.width=canvas.width;result.height=canvas.height;const widthSource=canvas.width;const heightSource=canvas.height;width=Math.round(width);height=Math.round(height);const wRatio=widthSource/width;const hRatio=heightSource/height;const wRatioHalf=Math.ceil(wRatio/2);const hRatioHalf=Math.ceil(hRatio/2);const ctx=getContext(canvas);const img=ctx.getImageData(0,0,widthSource,heightSource);const img2=ctx.createImageData(width,height);const data=img.data;const data2=img2.data;for(let j=0;j<height;j++){for(let i=0;i<width;i++){const x2=(i+j*width)*4;let weight=0;let weights=0;let weightsAlpha=0;let gx_r=0;let gx_g=0;let gx_b=0;let gx_a=0;const yCenter=(j+0.5)*hRatio;const yy_start=Math.floor(j*hRatio);const yy_stop=Math.ceil((j+1)*hRatio);for(let yy=yy_start;yy<yy_stop;yy++){const dy=Math.abs(yCenter-(yy+0.5))/hRatioHalf;const center_x=(i+0.5)*wRatio;const w0=dy*dy;const xx_start=Math.floor(i*wRatio);const xx_stop=Math.ceil((i+1)*wRatio);for(let xx=xx_start;xx<xx_stop;xx++){const dx=Math.abs(center_x-(xx+0.5))/wRatioHalf;const w=Math.sqrt(w0+dx*dx);if(w>=1){continue;}weight=2*w*w*w-3*w*w+1;const xPosition=4*(xx+yy*widthSource);gx_a+=weight*data[xPosition+3];weightsAlpha+=weight;if(data[xPosition+3]<255){weight=weight*data[xPosition+3]/250;}gx_r+=weight*data[xPosition];gx_g+=weight*data[xPosition+1];gx_b+=weight*data[xPosition+2];weights+=weight;}}data2[x2]=gx_r/weights;data2[x2+1]=gx_g/weights;data2[x2+2]=gx_b/weights;data2[x2+3]=gx_a/weightsAlpha;}}if(resizeCanvas){result.width=width;result.height=height;}const context=getContext(result);context.putImageData(img2,0,0);return result;}/* harmony default export */ const ResizeAction_web = ((canvas,{width,height})=>{const imageRatio=canvas.width/canvas.height;let requestedWidth=0;let requestedHeight=0;if(width!==undefined){requestedWidth=width;requestedHeight=requestedWidth/imageRatio;}if(height!==undefined){requestedHeight=height;if(requestedWidth===0){requestedWidth=requestedHeight*imageRatio;}}return resampleSingle(canvas,requestedWidth,requestedHeight,true);});
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/ImageManipulator.types.js
var FlipType;(function(FlipType){FlipType["Vertical"]="vertical";FlipType["Horizontal"]="horizontal";})(FlipType||(FlipType={}));var SaveFormat;(function(SaveFormat){SaveFormat["JPEG"]="jpeg";SaveFormat["PNG"]="png";SaveFormat["WEBP"]="webp";})(SaveFormat||(SaveFormat={}));
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/actions/FlipAction.web.js
/* harmony default export */ const FlipAction_web = ((canvas,flip)=>{const xFlip=flip===FlipType.Horizontal;const yFlip=flip===FlipType.Vertical;const result=document.createElement('canvas');result.width=canvas.width;result.height=canvas.height;const context=getContext(result);context.translate(canvas.width/2,canvas.height/2);const xScale=xFlip?-1:1;const yScale=yFlip?-1:1;context.scale(xScale,yScale);context.drawImage(canvas,-canvas.width/2,-canvas.height/2,canvas.width,canvas.height);return result;});
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/actions/RotateAction.web.js
function sizeFromAngle(width,height,angle){const radians=angle*Math.PI/180;let c=Math.cos(radians);let s=Math.sin(radians);if(s<0){s=-s;}if(c<0){c=-c;}return{width:height*s+width*c,height:height*c+width*s};}/* harmony default export */ const RotateAction_web = ((canvas,degrees)=>{const{width,height}=sizeFromAngle(canvas.width,canvas.height,degrees);const result=document.createElement('canvas');result.width=width;result.height=height;const context=getContext(result);context.translate(result.width/2,result.height/2);const radians=degrees*Math.PI/180;context.rotate(radians);context.drawImage(canvas,-canvas.width/2,-canvas.height/2,canvas.width,canvas.height);return result;});
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/ExpoImageManipulator.web.js
function getResults(canvas,options){let uri;if(options){var _options$compress;const{format='png'}=options;if(options.format==='png'&&options.compress!==undefined){console.warn('compress is not supported with png format.');}const quality=Math.min(1,Math.max(0,(_options$compress=options.compress)!==null&&_options$compress!==void 0?_options$compress:1));uri=canvas.toDataURL('image/'+format,quality);}else{uri=canvas.toDataURL();}return{uri,width:canvas.width,height:canvas.height,base64:uri.replace(/^data:image\/\w+;base64,/,'')};}function loadImageAsync(uri){return new Promise((resolve,reject)=>{const imageSource=new Image();imageSource.crossOrigin='anonymous';const canvas=document.createElement('canvas');imageSource.onload=()=>{canvas.width=imageSource.naturalWidth;canvas.height=imageSource.naturalHeight;const context=getContext(canvas);context.drawImage(imageSource,0,0,imageSource.naturalWidth,imageSource.naturalHeight);resolve(canvas);};imageSource.onerror=()=>reject(canvas);imageSource.src=uri;});}/* harmony default export */ const ExpoImageManipulator_web = ({async manipulateAsync(uri,actions=[],options){const originalCanvas=await loadImageAsync(uri);const resultCanvas=actions.reduce((canvas,action)=>{if('crop'in action){return CropAction_web(canvas,action.crop);}else if('extent'in action){return ExtentAction_web(canvas,action.extent);}else if('resize'in action){return ResizeAction_web(canvas,action.resize);}else if('flip'in action){return FlipAction_web(canvas,action.flip);}else if('rotate'in action){return RotateAction_web(canvas,action.rotate);}else{return canvas;}},originalCanvas);return getResults(resultCanvas,options);}});
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/validators.js
function validateArguments(uri,actions,saveOptions){validateUri(uri);validateActions(actions);validateSaveOptions(saveOptions);}function validateUri(uri){if(!(typeof uri==='string')){throw new TypeError('The "uri" argument must be a string');}}function validateActions(actions){if(!Array.isArray(actions)){throw new TypeError('The "actions" argument must be an array');}for(const action of actions){if(typeof action!=='object'||action===null){throw new TypeError('Action must be an object');}const supportedActionTypes=['crop','extent','flip','rotate','resize'];const actionKeys=Object.keys(action);if(actionKeys.length!==1){throw new TypeError(`Single action must contain exactly one transformation: ${supportedActionTypes.join(', ')}`);}const actionType=actionKeys[0];if(!supportedActionTypes.includes(actionType)){throw new TypeError(`Unsupported action type: ${actionType}`);}if(actionType==='crop'){validateCropAction(action);}else if(actionType==='extent'){validateExtentAction(action);}else if(actionType==='flip'){validateFlipAction(action);}else if(actionType==='rotate'){validateRotateAction(action);}else if(actionType==='resize'){validateResizeAction(action);}}}function validateCropAction(action){const isValid=typeof action.crop==='object'&&action.crop!==null&&typeof action.crop.originX==='number'&&typeof action.crop.originY==='number'&&typeof action.crop.width==='number'&&typeof action.crop.height==='number';if(!isValid){throw new TypeError('Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }');}}function validateExtentAction(action){const isValid=typeof action.extent==='object'&&action.extent!==null&&(action.extent.backgroundColor==null||typeof action.extent.backgroundColor==='string')&&(action.extent.originX==null||typeof action.extent.originX==='number')&&(action.extent.originY==null||typeof action.extent.originY==='number')&&typeof action.extent.width==='number'&&typeof action.extent.height==='number';if(!isValid){throw new TypeError('Extent action must be an object of shape { backgroundColor?: string; originX?: number; originY?: number; width: number; height: number }');}}function validateFlipAction(action){if(typeof action.flip!=='string'||![FlipType.Horizontal,FlipType.Vertical].includes(action.flip)){throw new TypeError(`Unsupported flip type: ${action.flip}`);}}function validateRotateAction(action){if(typeof action.rotate!=='number'){throw new TypeError('Rotation must be a number');}}function validateResizeAction(action){const isValid=typeof action.resize==='object'&&action.resize!==null&&(typeof action.resize.width==='number'||typeof action.resize.width==='undefined')&&(typeof action.resize.height==='number'||typeof action.resize.height==='undefined');if(!isValid){throw new TypeError('Resize action must be an object of shape { width?: number; height?: number }');}}function validateSaveOptions({base64,compress,format}){if(base64!==undefined&&typeof base64!=='boolean'){throw new TypeError('The "base64" argument must be a boolean');}if(compress!==undefined){if(typeof compress!=='number'){throw new TypeError('The "compress" argument must be a number');}if(compress<0||compress>1){throw new TypeError('The "compress" argument must be a number between 0 and 1');}}const allowedFormats=[SaveFormat.JPEG,SaveFormat.PNG,SaveFormat.WEBP];if(format!==undefined&&!allowedFormats.includes(format)){throw new TypeError(`The "format" argument must be one of: ${allowedFormats.join(', ')}`);}}
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-manipulator@12.0.5_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encod_xhceac5jhkewvv45wfnathtaki/node_modules/expo-image-manipulator/build/ImageManipulator.js
const _excluded=["format"];function ImageManipulator_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function ImageManipulator_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImageManipulator_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImageManipulator_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}async function manipulateAsync(uri,actions=[],saveOptions={}){if(!ExpoImageManipulator_web.manipulateAsync){throw new UnavailabilityError.UnavailabilityError('ImageManipulator','manipulateAsync');}validateArguments(uri,actions,saveOptions);const{format=SaveFormat.JPEG}=saveOptions,rest=(0,objectWithoutProperties["default"])(saveOptions,_excluded);return await ExpoImageManipulator_web.manipulateAsync(uri,actions,ImageManipulator_objectSpread({format},rest));}
// EXTERNAL MODULE: ./src/analyticsUtils/components/TelemetryProvider.tsx + 38 modules
var TelemetryProvider = __webpack_require__(297303);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageResolutionHelper.ts
const prepCameraOnReady=async(cameraRef,resolution)=>{let ratio;let size;if(cameraRef.current){const defaultResolutionRatio='4:3';const supportedRatios=platform.PLATFORM==='android'?await cameraRef.current.getSupportedRatiosAsync():[];const ratioToUse=supportedRatios.includes(defaultResolutionRatio)||supportedRatios.length===0?defaultResolutionRatio:supportedRatios[0];const pictureSizes=await cameraRef.current.getAvailablePictureSizesAsync(ratioToUse);ratio=ratioToUse;if(pictureSizes.length>0){(0,TelemetryProvider.getCurrentTelemetry)().info(`Current resoutions on ${platform.PLATFORM}: ${pictureSizes.toString()}`);size=pictureSizes[pictureSizeIndexToUse(resolution,pictureSizes)];}}return{ratio,size};};const manipulateImageIfNecessary=async(photo,resolution,source,platform)=>{if(shouldManipulateImage(resolution,source,platform)){const{h,w}=heightAndWidthToUse(photo,resolution);return await manipulateAsync(photo.uri,[{resize:{height:h,width:w}}]);}return photo;};const shouldManipulateImage=(resolution,source,platform)=>{return(source==='library'||platform==='web')&&resolution!=='original'||platform==='ios';};const pictureSizeIndexToUse=(resolution,availableSizes)=>{availableSizes.sort((a,b)=>{var _a$split,_b$split;const numberOrMin=n=>{return Number.isNaN(n)?Number.MIN_SAFE_INTEGER:n;};const first=numberOrMin(parseInt((_a$split=a.split('x'))===null||_a$split===void 0?void 0:_a$split[0]));const second=numberOrMin(parseInt((_b$split=b.split('x'))===null||_b$split===void 0?void 0:_b$split[0]));return first-second;});const safeIndexLookup=(arr,str)=>{const index=arr.indexOf(str);if(index>-1){return index;}else{(0,TelemetryProvider.getCurrentTelemetry)().error(`Could not find expected resolution option: ${str} in options ${arr.toString()}`);return 0;}};const numSizes=availableSizes.length;const maxIndex=numSizes-1;let adjustment=0;switch(resolution){case'original':adjustment=0;if(platform.PLATFORM==='ios'){return safeIndexLookup(availableSizes,'Photo');}break;case'high':adjustment=1;break;case'medium':adjustment=2;break;case'low':adjustment=3;break;}return Math.max(0,maxIndex-adjustment);};const heightAndWidthToUse=(photo,resolution)=>{const{height,width}=photo;let scaleFactor=1.0;switch(resolution){case'original':scaleFactor=1.0;break;case'high':scaleFactor=0.75;break;case'medium':scaleFactor=0.5;break;case'low':scaleFactor=0.25;break;}const h=Math.floor(height*scaleFactor);const w=Math.floor(width*scaleFactor);return{h,w};};
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInputCameraPreview.tsx
const attachIconName='line/mail-send-email-attachment-image-1';let hasPermissionOnce=false;const ImageInputCameraPreview=({quality,resolution,selectionType,currentImages,maxCount=null,defaultCameraType,showImageLibrary,onCapture,onClose,launchPreview})=>{const cameraRef=(0,react.useRef)(null);const[hasPermission,setHasPermission]=(0,react.useState)(hasPermissionOnce||null);const[cameraType,setCameraType]=(0,react.useState)(defaultCameraType==='front'?Camera_types.CameraType.front:Camera_types.CameraType.back);const[capturing,setCapturing]=(0,react.useState)(false);const[ratio,setRatio]=(0,react.useState)('4:3');const[size,setSize]=(0,react.useState)(null);const[originalImages]=(0,react.useState)([...currentImages]);const isScreenPortrait=(0,useIsScreenPortrait["default"])();const cache=useImageCache();const cameraKey=platform.PLATFORM==='ios'?isScreenPortrait?'0':'1':'0';const{height,width}=(0,useCurrentScreenDimensions["default"])();const tabletLikeLandscape=isScreenPortrait===false&&height>600;const isTabletLike=isScreenPortrait&&width/height>TABLET_DEVICE_ASPECT_RATIO_BREAKPOINT||isScreenPortrait===false&&height/width>TABLET_DEVICE_ASPECT_RATIO_BREAKPOINT;const pickImageFromLibrary=(0,react.useCallback)(async()=>{const selected=await ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker_types.MediaTypeOptions.Images,allowsEditing:false,allowsMultipleSelection:selectionType==='multiple',aspect:[4,3],quality});if(!selected.canceled){const photos=selected.assets;const convertToPhoto=async result=>{const{uri}=result;const response=await fetch(uri);const blob=await response.blob();const image={uri:await cache.getUri(blob,uri),size:blob.size,type:blob.type,width:result.width,height:result.height};return image;};const manipulatedImages=await Promise.all(photos.map(async photo=>{const result=await manipulateImageIfNecessary(photo,resolution,'library',platform.PLATFORM);const image=await convertToPhoto(result);return image;}));currentImages.push(...manipulatedImages);await(onCapture===null||onCapture===void 0?void 0:onCapture(currentImages));}},[quality,resolution,cache,currentImages,onCapture,selectionType]);(0,react.useEffect)(()=>{;(async()=>{if(!hasPermissionOnce){const{status}=await Camera["default"].requestCameraPermissionsAsync();const granted=status==='granted';if(granted){hasPermissionOnce=true;}setHasPermission(granted);}})();},[]);(0,react.useEffect)(()=>{if(selectionType==='single'){if(currentImages.length===1){launchPreview(0);}}},[currentImages.length,selectionType,launchPreview]);const switchCamera=()=>{setCameraType(prevCameraType=>prevCameraType===Camera_types.CameraType.back?Camera_types.CameraType.front:Camera_types.CameraType.back);};const backgroundColorAnim=(0,react.useRef)(new Animated["default"].Value(0)).current;const animStyle=(0,react.useMemo)(()=>{return{position:'absolute',left:0,right:0,top:0,bottom:0,backgroundColor:'rgba(255, 255, 255, .5)',opacity:backgroundColorAnim};},[backgroundColorAnim]);const animateCapture=(0,react.useCallback)(()=>{Animated["default"].timing(backgroundColorAnim,{toValue:1,duration:25,useNativeDriver:true}).start(()=>{Animated["default"].timing(backgroundColorAnim,{toValue:0,duration:500,useNativeDriver:true}).start();});},[backgroundColorAnim]);const cancelOperation=(0,react.useCallback)(()=>{onCapture===null||onCapture===void 0?void 0:onCapture(originalImages);onClose===null||onClose===void 0?void 0:onClose();},[originalImages,onCapture,onClose]);const savePhoto=(0,react.useCallback)(async photo=>{if(!photo){return;}const{uri}=photo;const response=await fetch(uri);const blob=await response.blob();const image={uri:await cache.getUri(blob,uri),size:blob.size,type:blob.type,height:photo.height,width:photo.width};currentImages.push(image);await(onCapture===null||onCapture===void 0?void 0:onCapture(currentImages));},[cache,currentImages,onCapture]);const closeCamera=(0,react.useCallback)(()=>{onClose===null||onClose===void 0?void 0:onClose(currentImages);},[currentImages,onClose]);const handlePhoto=(0,react.useCallback)(async()=>{if(cameraRef.current){if(false){}setCapturing(true);const options={quality,base64:true,ratio,pictureSize:size,onPictureSaved:async newPhoto=>{setCapturing(false);if(platform.PLATFORM==='android'){var _cameraRef$current;(_cameraRef$current=cameraRef.current)===null||_cameraRef$current===void 0?void 0:_cameraRef$current.resumePreview();}const result=await manipulateImageIfNecessary(newPhoto,resolution,'camera',platform.PLATFORM);savePhoto(result);}};await cameraRef.current.takePictureAsync(options);if(platform.PLATFORM==='android'){cameraRef.current.pausePreview();}}},[size,quality,ratio,resolution,animateCapture,savePhoto]);const onCameraReady=async()=>{if(size==null){const{ratio:r,size:s}=await prepCameraOnReady(cameraRef,resolution);if(r&&r!==ratio){setRatio(r);}if(s&&s!==size){setSize(s);}}};const stringToRatio=ratioString=>{const spl=ratioString.split(':');return[Number(spl[0]),Number(spl[1])];};const cameraRatio=stringToRatio(ratio);const aspectRatio=isScreenPortrait?cameraRatio[1]/cameraRatio[0]:cameraRatio[0]/cameraRatio[1];const shouldAddTopPaddingWeb=platform.PLATFORM==='web'&&isScreenPortrait;const shouldAddTopPaddingiOS=platform.PLATFORM==='ios'&&isScreenPortrait;const shouldDisableButtons=maxCount!==null&&currentImages.length>=maxCount;const adjustedColumnDirectionStyle=(0,react.useMemo)(()=>{if(isScreenPortrait){return{flexDirection:'column'};}else{return{flexDirection:'row'};}},[isScreenPortrait]);const adjustedRowDirectionStyle=(0,react.useMemo)(()=>{if(isScreenPortrait){return{flexDirection:'row'};}else{return{flexDirection:'column'};}},[isScreenPortrait]);const adjustedHeightStyle=(0,react.useMemo)(()=>{if(isScreenPortrait){return{width:'100%'};}else{return{height:'100%'};}},[isScreenPortrait]);const doneElement=(0,react.useCallback)(()=>{if(selectionType==='single'){return (0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});}else if(currentImages.length===0){return (0,jsx_runtime.jsx)(Text["default"],{style:ImageInputCameraModalDisplayStyles_styles.textButton,children:(0,localization.localizedString)('Cancel')});}else{return (0,jsx_runtime.jsx)(Text["default"],{style:ImageInputCameraModalDisplayStyles_styles.textButton,children:(0,localization.localizedString)('Done')});}},[selectionType,currentImages]);if(!hasPermission){const _onClose=()=>{onClose===null||onClose===void 0?void 0:onClose();};return (0,jsx_runtime.jsx)(CameraPermissionScreen["default"],{hasPermission:hasPermission,onClose:_onClose});}return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StatusBar["default"],{backgroundColor:colors.nearBlack,hidden:true}),(0,jsx_runtime.jsx)(View["default"],{style:[StyleSheet["default"].absoluteFill,{backgroundColor:colors.nearBlack}],children:(0,jsx_runtime.jsxs)(View["default"],{style:[adjustedColumnDirectionStyle,{backgroundColor:colors.nearBlack},adjustedHeightStyle],children:[(0,jsx_runtime.jsxs)(View["default"],{style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.topButtonBoxPortrait:ImageInputCameraModalDisplayStyles_styles.topButtonBoxLandscape,adjustedRowDirectionStyle,tabletLikeLandscape?ImageInputCameraModalDisplayStyles_styles.tabletLikeLandscapePadding:null,shouldAddTopPaddingWeb&&ImageInputCameraModalDisplayStyles_styles.topPadding,shouldAddTopPaddingiOS&&ImageInputCameraModalDisplayStyles_styles.iosTopPadding],children:[(0,jsx_runtime.jsx)(Pressable["default"],{onPress:cancelOperation,style:({pressed})=>[pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState],hitSlop:30,accessibilityLabel:"Close",children:(0,jsx_runtime.jsx)(exports_Image["default"],{source:__webpack_require__(542937),style:[{tintColor:'white',width:20,height:20}]})}),(0,jsx_runtime.jsx)(Pressable["default"],{onPress:switchCamera,style:({pressed})=>[ImageInputCameraModalDisplayStyles_styles.alignCenter,pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState],hitSlop:30,accessibilityLabel:"Switch",children:(0,jsx_runtime.jsx)(exports_Image["default"],{source:__webpack_require__(799247),style:{width:20,height:20}})})]}),isScreenPortrait?(0,jsx_runtime.jsx)(View["default"],{style:{height:16}}):null,(0,jsx_runtime.jsx)(Camera["default"],{autoFocus:true,style:[{aspectRatio},adjustedHeightStyle,isTabletLike&&ImageInputCameraModalDisplayStyles_styles.tabletImageStyle],ref:cameraRef,type:cameraType,ratio:platform.PLATFORM==='android'?ratio:undefined,pictureSize:size!==null&&size!==void 0?size:undefined,onCameraReady:onCameraReady,children:(0,jsx_runtime.jsx)(Animated["default"].View,{style:animStyle})},cameraKey)]})}),(0,jsx_runtime.jsxs)(View["default"],{style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.bottomContainer:ImageInputCameraModalDisplayStyles_styles.sideContainer,adjustedColumnDirectionStyle],children:[(0,jsx_runtime.jsx)(View["default"],{style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.portraitCarouselStyle:ImageInputCameraModalDisplayStyles_styles.landscapeCarouselStyle,currentImages.length===0?{display:'none'}:null],children:(0,jsx_runtime.jsx)(ImageCarousel_ImageCarousel,{images:currentImages,fetching:false,style:"small",cancellable:false,onTap:launchPreview,vertical:!isScreenPortrait})}),(0,jsx_runtime.jsxs)(View["default"],{style:[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.portraitButtonBox:ImageInputCameraModalDisplayStyles_styles.landscapeButtonBox,tabletLikeLandscape?ImageInputCameraModalDisplayStyles_styles.tabletLikeLandscapePadding:null],children:[showImageLibrary?(0,jsx_runtime.jsx)(Pressable["default"],{hitSlop:20,onPress:pickImageFromLibrary,style:({pressed})=>[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.startButtonPortrait:ImageInputCameraModalDisplayStyles_styles.startButtonLandscape,pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState,shouldDisableButtons&&{opacity:0.5}],disabled:shouldDisableButtons,accessibilityLabel:"Library",children:(0,jsx_runtime.jsx)(Icon.Icon,{name:attachIconName,color:"white",size:24})}):(0,jsx_runtime.jsx)(View["default"],{style:isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.startButtonPortrait:ImageInputCameraModalDisplayStyles_styles.startButtonLandscape}),(0,jsx_runtime.jsx)(Pressable["default"],{onPress:handlePhoto,style:({pressed})=>[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.centerButtonPortrait:ImageInputCameraModalDisplayStyles_styles.centerButtonLandscape,pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState,shouldDisableButtons&&{opacity:0.5}],disabled:capturing||shouldDisableButtons,accessibilityLabel:"Capture",children:(0,jsx_runtime.jsx)(View["default"],{style:[ImageInputCameraModalDisplayStyles_styles.outerCircle,capturing?ImageInputCameraModalDisplayStyles_styles.disabledCircle:null],children:(0,jsx_runtime.jsx)(View["default"],{style:[ImageInputCameraModalDisplayStyles_styles.innerCircle,capturing?ImageInputCameraModalDisplayStyles_styles.disabledCircle:null]})})}),(0,jsx_runtime.jsx)(Pressable["default"],{hitSlop:20,onPress:closeCamera,style:({pressed})=>[isScreenPortrait?ImageInputCameraModalDisplayStyles_styles.endButtonPortrait:ImageInputCameraModalDisplayStyles_styles.endButtonLandscape,pressed&&ImageInputCameraModalDisplayStyles_styles.buttonDownState],children:doneElement()})]})]})]});};
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInputModal.tsx
const ImageInputModal=props=>{const{quality,resolution,launchMode,selectionType,maxCount,defaultCameraType,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,files,onCapture,onClose,updateModel}=props;const handleCloseCamera=fileList=>{if(uploadToRetoolStorage&&selectionType==='multiple'&&fileList){ImageInput_handleFileChange(fileList,{onChange:()=>{},updateModel,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic});}updateModel({cameraOpened:false});onClose===null||onClose===void 0?void 0:onClose();};const[imagePreviewState,setImagePreviewState,clearImagePreviewState]=useImageInputPreviewState();const handlePresentPreview=(0,react.useCallback)(index=>{if(files.length>index){const photo=files[index].uri;setImagePreviewState({index,imageUri:photo});}},[files,setImagePreviewState]);const handleDismissPreview=(0,react.useCallback)(()=>{clearImagePreviewState();},[clearImagePreviewState]);return (0,jsx_runtime.jsx)(Modal.Modal,{testID:"image-input-modal",visible:true,onRequestClose:onClose,children:(()=>{if(imagePreviewState){return (0,jsx_runtime.jsx)(ImageInputFilePreview,{index:imagePreviewState.index,selectionType:selectionType,files:files,isPublic:isPublic,onDismissPreview:handleDismissPreview,onDismissModal:onClose,uploadToRetoolStorage:uploadToRetoolStorage,shouldOverwriteOnNameCollision:shouldOverwriteOnNameCollision,updateModel:updateModel});}return (0,jsx_runtime.jsx)(ImageInputCameraPreview,{quality:quality,resolution:resolution,selectionType:selectionType,currentImages:files,maxCount:maxCount,defaultCameraType:defaultCameraType,showImageLibrary:launchMode!=='cameraOnly',onCapture:onCapture,onClose:handleCloseCamera,launchPreview:handlePresentPreview});})()});};
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInput.tsx
const ImageInput_styles=StyleSheet["default"].create({labelContainer:{flexDirection:'row',justifyContent:'space-between',paddingHorizontal:4}});const pluralFiles=count=>`${count} file${count===1?'':'s'}`;const getValidationMessage=(minCount,maxCount,currentWidgetImages)=>{if(minCount&&currentWidgetImages.length<minCount){return`Please pick at least ${pluralFiles(minCount)}.`;}if(maxCount&&currentWidgetImages.length>maxCount){return`Please pick no more than ${pluralFiles(maxCount)}.`;}};const ImageInput=({disabled,fetching=false,hidden,setCameraOpen,setLibraryOpen,onOpen,onCapture,onClose,resolution,shouldCompress,label,placeholder,cameraOpened,launchMode,libraryOpened,selectionType:_selectionType,minCount,maxCount,defaultCameraType,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,updateModel,files})=>{var _theme$borderRadius;const selectionType=_selectionType!==null&&_selectionType!==void 0?_selectionType:'multiple';const cache=useImageCache();const theme=(0,react.useContext)(utilities_theme["default"]);const borderRadius=(_theme$borderRadius=theme.borderRadius)!==null&&_theme$borderRadius!==void 0?_theme$borderRadius:6;const quality=shouldCompress?0.25:0.5;const validationMessage=getValidationMessage(minCount,maxCount,files);const isAtMax=(maxCount?files.length>=maxCount:false)||selectionType==='single';const clearCurrentWidgetImage=(0,react.useCallback)(index=>{(0,showActionsheet.showActionSheet)({title:'Are you sure?',options:[{label:(0,localization.localizedString)('Delete photo'),color:'red',value:'delete'},{label:(0,localization.localizedString)('Cancel'),value:'cancel'}],onChange:async value=>{if(value==='delete'){files.splice(index,1);await(onCapture===null||onCapture===void 0?void 0:onCapture(files));}}});},[files,onCapture]);const openModal=(0,react.useCallback)(()=>{if(launchMode==='library'){setLibraryOpen(true);onOpen===null||onOpen===void 0?void 0:onOpen();}else{setCameraOpen(true);onOpen===null||onOpen===void 0?void 0:onOpen();}},[setCameraOpen,setLibraryOpen,onOpen,launchMode]);const[imagePreviewState,setImagePreviewState,clearImagePreviewState]=useImageInputPreviewState();const presentPreview=(0,react.useCallback)(index=>{if(files.length>index){const photo=files[index].uri;setImagePreviewState({index,imageUri:photo});}},[files,setImagePreviewState]);const pickImageFromLibrary=(0,react.useCallback)(async()=>{const selected=await ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker_types.MediaTypeOptions.Images,allowsEditing:false,allowsMultipleSelection:selectionType==='multiple',aspect:[4,3],quality});if(!selected.canceled){const photos=selected.assets;const convertToPhoto=async result=>{const{uri}=result;const response=await fetch(uri);const blob=await response.blob();const image={uri:await cache.getUri(blob,uri),size:blob.size,type:blob.type,width:result.width,height:result.height};return image;};const manipulatedImages=await Promise.all(photos.map(async photo=>{const result=await manipulateImageIfNecessary(photo,resolution,'library',platform.PLATFORM);const image=await convertToPhoto(result);return image;}));await(onCapture===null||onCapture===void 0?void 0:onCapture([...files,...manipulatedImages]));}},[quality,resolution,cache,files,onCapture,selectionType]);(0,react.useEffect)(()=>{if(libraryOpened){pickImageFromLibrary();setLibraryOpen(false);}});const handleCloseCamera=(0,react.useCallback)(()=>{setCameraOpen(false);onClose===null||onClose===void 0?void 0:onClose();},[setCameraOpen,onClose]);const imageInputModal=(()=>{if(cameraOpened){return (0,jsx_runtime.jsx)(ImageInputModal,{quality:quality,launchMode:launchMode,resolution:resolution,selectionType:selectionType,maxCount:maxCount!==null&&maxCount!==void 0?maxCount:undefined,defaultCameraType:defaultCameraType,uploadToRetoolStorage:uploadToRetoolStorage,shouldOverwriteOnNameCollision:shouldOverwriteOnNameCollision,isPublic:isPublic,files:files,updateModel:updateModel,onCapture:onCapture,onClose:handleCloseCamera});}else if(imagePreviewState){return (0,jsx_runtime.jsx)(ImageInputFilePreviewModal,{index:imagePreviewState.index,selectionType:"multiple",uploadToRetoolStorage:uploadToRetoolStorage,shouldOverwriteOnNameCollision:shouldOverwriteOnNameCollision,isPublic:isPublic,files:files,updateModel:updateModel,onDismissPreview:clearImagePreviewState});}else{return null;}})();if(hidden){return (0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});}else if(files.length>0){return (0,jsx_runtime.jsxs)(react.Fragment,{children:[imageInputModal,(0,jsx_runtime.jsxs)(View["default"],{style:ImageInput_styles.labelContainer,children:[(0,jsx_runtime.jsx)(Label["default"],{title:label,loading:fetching,disabled:disabled}),isAtMax===false?(0,jsx_runtime.jsx)(Pressable["default"],{onPress:openModal,hitSlop:30,children:(0,jsx_runtime.jsx)(Label["default"],{title:(0,localization.localizedString)('+ Add'),loading:fetching,textColor:colors.linkBlue,disabled:disabled})}):null]}),(0,jsx_runtime.jsx)(ImageCarousel_ImageCarousel,{images:files,onTap:presentPreview,onCancel:clearCurrentWidgetImage,fetching:false}),(0,jsx_runtime.jsx)(View["default"],{style:ImageInput_styles.labelContainer,children:validationMessage!=null?(0,jsx_runtime.jsx)(Label["default"],{title:validationMessage,loading:fetching,disabled:disabled,textColor:colors.errorRed}):null})]},"image-input");}else{return (0,jsx_runtime.jsxs)(react.Fragment,{children:[imageInputModal,(0,jsx_runtime.jsx)(View["default"],{style:ImageInput_styles.labelContainer,children:(0,jsx_runtime.jsx)(Label["default"],{title:label,loading:fetching,disabled:disabled})}),(0,jsx_runtime.jsx)(Button["default"],{style:"spaced",disabled:disabled,textColor:colors.midGrey,backgroundColor:colors.nearWhite,rightElement:(0,jsx_runtime.jsx)(Icon.Icon,{name:"line/mail-send-email-attachment-image-1"}),size:"large",onPress:openModal,title:placeholder||'Attach an image',loading:fetching,borderRadius:borderRadius}),(0,jsx_runtime.jsx)(View["default"],{style:ImageInput_styles.labelContainer,children:validationMessage!=null?(0,jsx_runtime.jsx)(Label["default"],{title:validationMessage,loading:fetching,disabled:disabled,textColor:colors.errorRed}):null})]},"image-input");}};/* harmony default export */ const ImageInput_ImageInput = (ImageInput);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/ImageInputWidget.tsx
const ImageInputWidget_excluded=["updateModel","onCapture","minCount","maxCount","_defaultCameraType","uploadToRetoolStorage","shouldOverwriteOnNameCollision","isPublic","files"];function ImageInputWidget_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function ImageInputWidget_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImageInputWidget_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImageInputWidget_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}/* harmony default export */ const ImageInputWidget = ((0,connectMobileWidget["default"])(widgetRuntimeOptions.typeKey,ImageInput_ImageInput,widgetRuntimeOptions,{},_ref=>{let{updateModel,onCapture,minCount:_minCount,maxCount:_maxCount,_defaultCameraType:defaultCameraType,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,files}=_ref,rest=(0,objectWithoutProperties["default"])(_ref,ImageInputWidget_excluded);const isValidMax=typeof _maxCount==='number'&&_maxCount>0;const maxCount=isValidMax?_maxCount:null;const isValidMin=typeof _minCount==='number'&&_minCount>0&&(maxCount===null||_minCount<maxCount);const minCount=isValidMin?_minCount:null;const checkValidNumberOfImages=length=>{if(minCount!==null&&length<minCount){return false;}if(maxCount!==null&&length>maxCount){return false;}return true;};return ImageInputWidget_objectSpread(ImageInputWidget_objectSpread({},rest),{},{maxCount,minCount,defaultCameraType,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,files:files,updateModel,onCapture:async fileList=>{const isValidNumberOfImages=checkValidNumberOfImages(fileList.length);await ImageInput_handleFileChange(fileList,{onChange:()=>{},updateModel,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isValidNumberOfImages,isPublic});if(isValidNumberOfImages){onCapture===null||onCapture===void 0?void 0:onCapture();}},setCameraOpen(cameraOpened){updateModel({cameraOpened});},setLibraryOpen(libraryOpened){updateModel({libraryOpened});}});}));

/***/ }),

/***/ 949699:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ connectWidget)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(682409);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(818414);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-redux@7.2.4_react-dom@18.3.1_react@18.3.1__react-native@0.74.3_@babel+core@7.24.9_@babe_az4c6i5siqhukmd7qezh6vzqeq/node_modules/react-redux/es/index.js + 19 modules
var es = __webpack_require__(917448);
// EXTERNAL MODULE: ../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js
var lodash = __webpack_require__(578105);
var lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);
// EXTERNAL MODULE: ../packages/common/immutable.ts
var immutable = __webpack_require__(587587);
// EXTERNAL MODULE: ../frontend/src/components/plugins/index.ts + 1 modules
var plugins = __webpack_require__(313667);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/utils/getWidgetStyleConfig.ts
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const isConfigWithVariants=config=>!!config&&'variants'in config;const getWidgetStyleConfig=({styles,validation,label})=>{var _styles$prefix,_styles$providesStyle;if(!styles)return;const base={label:!!label,validation:!!validation,prefix:(_styles$prefix=styles===null||styles===void 0?void 0:styles.prefix)!==null&&_styles$prefix!==void 0?_styles$prefix:'',providesStyleContext:(_styles$providesStyle=styles===null||styles===void 0?void 0:styles.providesStyleContext)!==null&&_styles$providesStyle!==void 0?_styles$providesStyle:false};if(!isConfigWithVariants(styles)){const{props={}}=styles!==null&&styles!==void 0?styles:{};return _objectSpread(_objectSpread({},base),{},{variants:{default:props}});}const{variants}=styles;return _objectSpread(_objectSpread({},base),{},{variants});};/* harmony default export */ const utils_getWidgetStyleConfig = (getWidgetStyleConfig);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/common/events/useEventCallbacks.tsx + 2 modules
var useEventCallbacks = __webpack_require__(238961);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(102658);
;// CONCATENATED MODULE: ../frontend/src/components/BaseErrorBoundary.native-web.tsx
const BaseErrorBoundary=({boundaryName:_boundaryName,children})=>{return (0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children});};
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/common/WidgetErrorBoundaryCompat.tsx
const InnerWidgetErrorBoundaryError=({errorMessage,onClickReload,shouldShowReloadButton})=>(0,jsx_runtime.jsxs)("div",{"data-testid":"Widgets::ErrorBoundary_div",children:[(0,jsx_runtime.jsxs)("code",{children:[" Error: ",errorMessage,"... "]}),shouldShowReloadButton&&(0,jsx_runtime.jsx)("button",{type:"button",onClick:onClickReload,children:"reload"})]});
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/common/WidgetErrorBoundary.tsx
function WidgetErrorBoundary_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function WidgetErrorBoundary_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?WidgetErrorBoundary_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WidgetErrorBoundary_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const useErrorBoundaryClientRateLimit=({maxClickCount=3})=>{const[reloadClickCount,setReloadClickCount]=(0,react.useState)(0);const handleClickReload=(0,react.useCallback)(resetError=>{setReloadClickCount(prev=>prev+1);resetError();},[setReloadClickCount]);const shouldAllowReload=reloadClickCount<maxClickCount;return{handleClickReload,shouldAllowReload};};const WidgetErrorBoundary=props=>{const{id:widgetId,largeScreen,editMode,fetching,namespace,position,widgetType,children}=props;const{handleClickReload,shouldAllowReload}=useErrorBoundaryClientRateLimit({});return (0,jsx_runtime.jsx)(BaseErrorBoundary,{boundaryName:widgetType!==null&&widgetType!==void 0?widgetType:'unknown',team:"@tryretool/building-ui-experience",fallback:({error,resetError})=>(0,jsx_runtime.jsx)(InnerWidgetErrorBoundaryError,{errorMessage:error.message.substring(0,160),onClickReload:()=>handleClickReload(resetError),shouldShowReloadButton:shouldAllowReload}),onBeforeCapture:(scope,_error,componentStack)=>{scope.setExtras({info:componentStack,editMode,fetching,largeScreen,namespace:namespace===null||namespace===void 0?void 0:namespace.getNamespace(),position:position===null||position===void 0?void 0:position.toJSON(),widgetId});scope.setLevel('fatal');scope.setTags({widget:widgetType});},children:children});};const withWidgetErrorBoundary=(widgetType,Widget)=>{const WithWidgetErrorBoundary=props=>(0,jsx_runtime.jsx)(WidgetErrorBoundary,WidgetErrorBoundary_objectSpread(WidgetErrorBoundary_objectSpread({},props),{},{widgetType:widgetType,children:(0,jsx_runtime.jsx)(Widget,WidgetErrorBoundary_objectSpread({},props))}));WithWidgetErrorBoundary.displayName=`WithWidgetErrorBoundary(${Widget.displayName||Widget.name||widgetType})`;return WithWidgetErrorBoundary;};
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/disable/DisabledByContainerContext.ts
var DisabledByContainerContext = __webpack_require__(301313);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/v2/api/disable/useDisabledByContainer.ts
function useDisabledByContainer(){return (0,react.useContext)(DisabledByContainerContext["default"]);}
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/jsApi/widgetApiRef.ts
var widgetApiRef = __webpack_require__(820046);
// EXTERNAL MODULE: ../node_modules/.pnpm/immutable@4.0.0-rc.12/node_modules/immutable/dist/immutable.es.js
var immutable_es = __webpack_require__(140653);
// EXTERNAL MODULE: ../packages/runtimeShared/plugins/widgets/v2/api/values/defaultValues.ts
var defaultValues = __webpack_require__(582824);
;// CONCATENATED MODULE: ../frontend/src/components/design-system/Label/constants.ts
const LABEL_WIDTH_UNITS=['%','px','col'];const DEFAULT_LABEL_WIDTH='33';const DEFAULT_INLINE_LABEL_WIDTH='100';const DEFAULT_LABEL_WIDTH_UNIT='%';
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/common/layoutConstants.ts
var layoutConstants = __webpack_require__(524314);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/defaultValues.ts
function defaultValues_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function defaultValues_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?defaultValues_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):defaultValues_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const defaultValueByPropertyDesktop={label:'Label',labelWidth:DEFAULT_LABEL_WIDTH,labelWidthUnit:DEFAULT_LABEL_WIDTH_UNIT,showBorder:true,showHeaderBorder:true,showFooterBorder:true,margin:layoutConstants.DEFAULT_MARGIN};const defaultValueByPropertyMobile=defaultValues_objectSpread(defaultValues_objectSpread({},defaultValueByPropertyDesktop),{},{showBorder:false});function getDefaultValues(config,{hasEvents=false,isMobile=false}){const defaultValueByProperty=isMobile?defaultValueByPropertyMobile:defaultValueByPropertyDesktop;return Object.entries(config).reduce((defaults,[key,type])=>{var _defaultValueByProper;defaults[key]=(_defaultValueByProper=defaultValueByProperty[key])!==null&&_defaultValueByProper!==void 0?_defaultValueByProper:(0,defaultValues.getDefaultValue)(type);return defaults;},defaultValues_objectSpread({},hasEvents?{events:immutable_es["default"].OrderedMap()}:{}));}
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/useModelValues.ts
var useModelValues = __webpack_require__(630382);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/useUpdateModel.ts + 1 modules
var useUpdateModel = __webpack_require__(514093);
// EXTERNAL MODULE: ../frontend/src/hostRuntime/index.ts + 8 modules
var hostRuntime = __webpack_require__(573375);
;// CONCATENATED MODULE: ../frontend/src/store/appModel/triggerPluginApi.ts
function triggerPluginApi({namespacedId,instance,method,paramsObject}){return()=>{return (0,hostRuntime.callHostRuntime)({method:'triggerApiCall',apiMethod:method,namespacedId,instance,paramsObject});};}
// EXTERNAL MODULE: ./src/store/mobileEditorSelector.ts
var mobileEditorSelector = __webpack_require__(354484);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(584235);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Text/index.js
var Text = __webpack_require__(351355);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/View/index.js
var View = __webpack_require__(716165);
// EXTERNAL MODULE: ./src/toolbox/Box/index.tsx + 3 modules
var Box = __webpack_require__(958453);
// EXTERNAL MODULE: ./src/toolbox/Icon/Icon.tsx + 3683 modules
var Icon = __webpack_require__(832487);
// EXTERNAL MODULE: ./src/toolbox/Shimmer/index.tsx
var Shimmer = __webpack_require__(123226);
// EXTERNAL MODULE: ./src/utilities/colors.ts
var colors = __webpack_require__(151391);
;// CONCATENATED MODULE: ./src/components/design-system/FormFeedback.tsx
function FormFeedback_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function FormFeedback_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FormFeedback_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FormFeedback_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const styles=StyleSheet["default"].create({container:{minHeight:25.5,paddingTop:3,flexDirection:'row',alignItems:'center'},icon:{marginRight:3,height:14,width:14},feedback:{fontWeight:'500',fontSize:13,lineHeight:22}});const FormFeedback=({message,type='valid',loading=false})=>{const{iconName,color}=type==='valid'?{iconName:undefined,color:colors.grey}:type==='disabled'?{iconName:undefined,color:colors.disabledInputText}:{iconName:'bold/interface-alert-warning-circle-alternate',color:colors.errorRed};return loading?(0,jsx_runtime.jsx)(Box.Box,{display:"flex",mb:8,children:(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:22})}):(0,jsx_runtime.jsx)(View["default"],{style:styles.container,children:message?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!!iconName&&(0,jsx_runtime.jsx)(View["default"],{style:styles.icon,children:(0,jsx_runtime.jsx)(Icon.Icon,{name:iconName,color:color,size:14})}),(0,jsx_runtime.jsx)(Text["default"],{style:FormFeedback_objectSpread(FormFeedback_objectSpread({},styles.feedback),{},{color}),children:message})]}):null});};/* harmony default export */ const design_system_FormFeedback = (FormFeedback);
// EXTERNAL MODULE: ./src/components/LayoutWrapper.tsx + 3 modules
var LayoutWrapper = __webpack_require__(112422);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/connectMobileWidget.tsx
function connectMobileWidget_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function connectMobileWidget_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?connectMobileWidget_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):connectMobileWidget_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const WidgetWrapper=({id,hidden,type,children,modelObj,style,onClick})=>{const isEditorDisplayMode=(0,es.useSelector)(mobileEditorSelector.isEditorDisplayModeSelector);const{padding,width,cornerType,widthGrowFactor,elevation,showBorder}=modelObj;const disableHidden=type.includes('RNCamera')||type.includes('RNScanner');const isHidden=hidden&&!disableHidden;return (0,jsx_runtime.jsx)(LayoutWrapper["default"],{cornerType:cornerType,elevation:elevation,padding:padding,width:width,widthGrowFactor:widthGrowFactor,showBorder:showBorder,type:type,isHidden:isHidden,isEditorDisplayMode:isEditorDisplayMode,pluginId:id,style:style,onClick:onClick,children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})});};function connectWidget(type,Component,runtimeOptions,options,mapProps){var _runtimeOptions$event;const{events=[],template}=runtimeOptions;const plugin=plugins.PluginRepository[type];if(!plugin){throw new Error(`Widget '${type}' must be registered before it is connected.`);}const styles=utils_getWidgetStyleConfig({styles:options.styles,validation:runtimeOptions.validation,label:options.label});const defaults=getDefaultValues(template,{hasEvents:!!((_runtimeOptions$event=runtimeOptions.events)!==null&&_runtimeOptions$event!==void 0&&_runtimeOptions$event.length),isMobile:true});plugin.template=values=>(0,immutable.makeTypedMap)(defaults).merge(values);plugin.options=connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},plugin.options),options),runtimeOptions),{},{styles});const RetoolWidget=({id,instance,rgProps,namespace,fetching})=>{var _modelObj$hidden;const instanceCompat=instance==null?[]:[instance];const modelObj=(0,useModelValues["default"])({config:template,id,instance:instanceCompat});const updateModel=(0,useUpdateModel["default"])(id,instanceCompat);const disabledByContainer=useDisabledByContainer();const dispatch=(0,es.useDispatch)();const apiRef=(0,widgetApiRef.useWidgetApiRef)(id,instanceCompat);const callbacks=(0,useEventCallbacks["default"])(id,instanceCompat,events);const hidden=(_modelObj$hidden=modelObj.hidden)!==null&&_modelObj$hidden!==void 0?_modelObj$hidden:false;const style=modelObj.style;const errorMessage=runtimeOptions.validation&&!modelObj.hideValidationMessage?modelObj.validationMessage:undefined;const labelCaption=modelObj.labelCaption;const disabled=disabledByContainer||modelObj.disabled;const formFeedbackComponent=(0,react.useMemo)(()=>{if(errorMessage){return (0,jsx_runtime.jsx)(design_system_FormFeedback,{message:errorMessage,type:"invalid"});}else if(labelCaption){return (0,jsx_runtime.jsx)(design_system_FormFeedback,{message:labelCaption,type:disabled?'disabled':'valid'});}else{return null;}},[disabled,errorMessage,labelCaption]);const renderWrapper=(0,react.useCallback)(children=>{const onClick=(()=>{if(type==='RNContainerWidget'){var _modelObj$events$size,_modelObj$events;const numClickEvents=(_modelObj$events$size=(_modelObj$events=modelObj.events)===null||_modelObj$events===void 0?void 0:_modelObj$events.size)!==null&&_modelObj$events$size!==void 0?_modelObj$events$size:0;if(numClickEvents>0){return()=>{var _callbacks$onClick;(_callbacks$onClick=callbacks.onClick)===null||_callbacks$onClick===void 0?void 0:_callbacks$onClick.call(callbacks);};}}})();return (0,jsx_runtime.jsxs)(WidgetWrapper,{id:id,hidden:hidden,type:type,modelObj:modelObj,style:style,onClick:onClick,children:[children,formFeedbackComponent]},id);},[id,hidden,modelObj,style,formFeedbackComponent,callbacks]);const props=mapProps(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},modelObj),callbacks),{},{style,apiRef,id,updateModel,triggerApiCall:({method,paramsObject})=>{return dispatch(triggerPluginApi({namespacedId:id,instance:instanceCompat,method,paramsObject}));},instance,rgProps,fetching,renderWrapper,namespace,disabled}));const shouldRenderWrapper=!(type.includes('RNFab')||type.includes('RNIcon'));if(shouldRenderWrapper){return renderWrapper((0,jsx_runtime.jsx)(Component,connectMobileWidget_objectSpread({},props)));}else{return (0,jsx_runtime.jsx)(Component,connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},props),{},{renderWrapper:renderWrapper}));}};RetoolWidget.displayName=`${type}(${Component.displayName||Component.name||'Component'})`;return (0,react.memo)(withWidgetErrorBoundary(type,RetoolWidget),(lodash_default()).isEqual);}

/***/ }),

/***/ 33189:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createFileFromBase64: () => (/* binding */ createFileFromBase64),
/* harmony export */   createFileFromUri: () => (/* binding */ createFileFromUri),
/* harmony export */   fetchPolyfill: () => (/* binding */ fetchPolyfill)
/* harmony export */ });
async function createFileFromUri(uri,filename,type){const res=await fetch(uri);const blob=await res.blob();const file=new File([blob],filename,{type});return file;}const createFileFromBase64=createFileFromUri;const fetchPolyfill=window.fetch;

/***/ }),

/***/ 805209:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  CameraType: () => (/* reexport */ ImagePicker_types.CameraType),
  MediaTypeOptions: () => (/* reexport */ ImagePicker_types.MediaTypeOptions),
  PermissionStatus: () => (/* reexport */ PermissionsInterface.PermissionStatus),
  UIImagePickerControllerQualityType: () => (/* reexport */ ImagePicker_types.UIImagePickerControllerQualityType),
  UIImagePickerPreferredAssetRepresentationMode: () => (/* reexport */ ImagePicker_types.UIImagePickerPreferredAssetRepresentationMode),
  UIImagePickerPresentationStyle: () => (/* reexport */ ImagePicker_types.UIImagePickerPresentationStyle),
  VideoExportPreset: () => (/* reexport */ ImagePicker_types.VideoExportPreset),
  getCameraPermissionsAsync: () => (/* binding */ getCameraPermissionsAsync),
  getMediaLibraryPermissionsAsync: () => (/* binding */ getMediaLibraryPermissionsAsync),
  getPendingResultAsync: () => (/* binding */ getPendingResultAsync),
  launchCameraAsync: () => (/* binding */ launchCameraAsync),
  launchImageLibraryAsync: () => (/* binding */ launchImageLibraryAsync),
  requestCameraPermissionsAsync: () => (/* binding */ requestCameraPermissionsAsync),
  requestMediaLibraryPermissionsAsync: () => (/* binding */ requestMediaLibraryPermissionsAsync),
  useCameraPermissions: () => (/* binding */ useCameraPermissions),
  useMediaLibraryPermissions: () => (/* binding */ useMediaLibraryPermissions)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/CodedError.js
var CodedError = __webpack_require__(297768);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/PermissionsHook.js
var PermissionsHook = __webpack_require__(115192);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/UnavailabilityError.js
var UnavailabilityError = __webpack_require__(560909);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/PermissionsInterface.js
var PermissionsInterface = __webpack_require__(333278);
// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(682409);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/Platform.js + 1 modules
var Platform = __webpack_require__(551203);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-image-picker@15.0.7_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0_ilmmbqc2kfk5m2s6wc76m2gdii/node_modules/expo-image-picker/build/ImagePicker.types.js
var ImagePicker_types = __webpack_require__(694965);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-picker@15.0.7_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0_ilmmbqc2kfk5m2s6wc76m2gdii/node_modules/expo-image-picker/build/ExponentImagePicker.web.js
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const MediaTypeInput={[ImagePicker_types.MediaTypeOptions.All]:'video/mp4,video/quicktime,video/x-m4v,video/*,image/*',[ImagePicker_types.MediaTypeOptions.Images]:'image/*',[ImagePicker_types.MediaTypeOptions.Videos]:'video/mp4,video/quicktime,video/x-m4v,video/*'};/* harmony default export */ const ExponentImagePicker_web = ({async launchImageLibraryAsync({mediaTypes=ImagePicker_types.MediaTypeOptions.Images,allowsMultipleSelection=false,base64=false}){if(!Platform["default"].isDOMAvailable){return{canceled:true,assets:null};}return await openFileBrowserAsync({mediaTypes,allowsMultipleSelection,base64});},async launchCameraAsync({mediaTypes=ImagePicker_types.MediaTypeOptions.Images,allowsMultipleSelection=false,base64=false}){if(!Platform["default"].isDOMAvailable){return{canceled:true,assets:null};}return await openFileBrowserAsync({mediaTypes,allowsMultipleSelection,capture:true,base64});},async getCameraPermissionsAsync(){return permissionGrantedResponse();},async requestCameraPermissionsAsync(){return permissionGrantedResponse();},async getMediaLibraryPermissionsAsync(_writeOnly){return permissionGrantedResponse();},async requestMediaLibraryPermissionsAsync(_writeOnly){return permissionGrantedResponse();}});function permissionGrantedResponse(){return{status:PermissionsInterface.PermissionStatus.GRANTED,expires:'never',granted:true,canAskAgain:true};}function openFileBrowserAsync({mediaTypes,capture=false,allowsMultipleSelection=false,base64}){const mediaTypeFormat=MediaTypeInput[mediaTypes];const input=document.createElement('input');input.style.display='none';input.setAttribute('type','file');input.setAttribute('accept',mediaTypeFormat);input.setAttribute('id',String(Math.random()));if(allowsMultipleSelection){input.setAttribute('multiple','multiple');}if(capture){input.setAttribute('capture','camera');}document.body.appendChild(input);return new Promise(resolve=>{input.addEventListener('change',async()=>{if(input.files){const files=allowsMultipleSelection?input.files:[input.files[0]];const assets=await Promise.all(Array.from(files).map(file=>readFile(file,{base64})));resolve({canceled:false,assets});}else{resolve({canceled:true,assets:null});}document.body.removeChild(input);});const event=new MouseEvent('click');input.dispatchEvent(event);});}function readFile(targetFile,options){return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onerror=()=>{reject(new Error(`Failed to read the selected media because the operation failed.`));};reader.onload=({target})=>{const uri=target.result;const returnRaw=()=>resolve({uri,width:0,height:0});if(typeof uri==='string'){const image=new Image();image.src=uri;image.onload=()=>{var _image$naturalWidth,_image$naturalHeight;resolve(_objectSpread({uri,width:(_image$naturalWidth=image.naturalWidth)!==null&&_image$naturalWidth!==void 0?_image$naturalWidth:image.width,height:(_image$naturalHeight=image.naturalHeight)!==null&&_image$naturalHeight!==void 0?_image$naturalHeight:image.height,mimeType:targetFile.type,fileName:targetFile.name},options.base64&&{base64:uri.substr(uri.indexOf(',')+1)}));};image.onerror=()=>returnRaw();}else{returnRaw();}};reader.readAsDataURL(targetFile);});}
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-image-picker@15.0.7_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0_ilmmbqc2kfk5m2s6wc76m2gdii/node_modules/expo-image-picker/build/ImagePicker.js
function validateOptions(options){const{aspect,quality,videoMaxDuration}=options;if(aspect!=null){const[x,y]=aspect;if(x<=0||y<=0){throw new CodedError.CodedError('ERR_INVALID_ARGUMENT',`Invalid aspect ratio values ${x}:${y}. Provide positive numbers.`);}}if(quality&&(quality<0||quality>1)){throw new CodedError.CodedError('ERR_INVALID_ARGUMENT',`Invalid 'quality' value ${quality}. Provide a value between 0 and 1.`);}if(videoMaxDuration&&videoMaxDuration<0){throw new CodedError.CodedError('ERR_INVALID_ARGUMENT',`Invalid 'videoMaxDuration' value ${videoMaxDuration}. Provide a non-negative number.`);}return options;}async function getCameraPermissionsAsync(){return ExponentImagePicker_web.getCameraPermissionsAsync();}async function getMediaLibraryPermissionsAsync(writeOnly=false){return ExponentImagePicker_web.getMediaLibraryPermissionsAsync(writeOnly);}async function requestCameraPermissionsAsync(){return ExponentImagePicker_web.requestCameraPermissionsAsync();}async function requestMediaLibraryPermissionsAsync(writeOnly=false){const imagePickerMethod=ExponentImagePicker_web.requestMediaLibraryPermissionsAsync;return imagePickerMethod(writeOnly);}const useMediaLibraryPermissions=(0,PermissionsHook.createPermissionHook)({getMethod:options=>getMediaLibraryPermissionsAsync(options===null||options===void 0?void 0:options.writeOnly),requestMethod:options=>requestMediaLibraryPermissionsAsync(options===null||options===void 0?void 0:options.writeOnly)});const useCameraPermissions=(0,PermissionsHook.createPermissionHook)({getMethod:getCameraPermissionsAsync,requestMethod:requestCameraPermissionsAsync});async function getPendingResultAsync(){if(ExponentImagePicker_web.getPendingResultAsync){return ExponentImagePicker_web.getPendingResultAsync();}return[];}async function launchCameraAsync(options={}){if(!ExponentImagePicker_web.launchCameraAsync){throw new UnavailabilityError.UnavailabilityError('ImagePicker','launchCameraAsync');}return await ExponentImagePicker_web.launchCameraAsync(validateOptions(options));}async function launchImageLibraryAsync(options){if(!ExponentImagePicker_web.launchImageLibraryAsync){throw new UnavailabilityError.UnavailabilityError('ImagePicker','launchImageLibraryAsync');}if(options!==null&&options!==void 0&&options.allowsEditing&&options.allowsMultipleSelection){console.warn('[expo-image-picker] `allowsEditing` is not supported when `allowsMultipleSelection` is enabled and will be ignored.'+"Disable either 'allowsEditing' or 'allowsMultipleSelection' in 'launchImageLibraryAsync' "+'to fix this warning.');}return await ExponentImagePicker_web.launchImageLibraryAsync(options!==null&&options!==void 0?options:{});}

/***/ }),

/***/ 694965:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CameraType: () => (/* binding */ CameraType),
/* harmony export */   MediaTypeOptions: () => (/* binding */ MediaTypeOptions),
/* harmony export */   UIImagePickerControllerQualityType: () => (/* binding */ UIImagePickerControllerQualityType),
/* harmony export */   UIImagePickerPreferredAssetRepresentationMode: () => (/* binding */ UIImagePickerPreferredAssetRepresentationMode),
/* harmony export */   UIImagePickerPresentationStyle: () => (/* binding */ UIImagePickerPresentationStyle),
/* harmony export */   VideoExportPreset: () => (/* binding */ VideoExportPreset)
/* harmony export */ });
var MediaTypeOptions;(function(MediaTypeOptions){MediaTypeOptions["All"]="All";MediaTypeOptions["Videos"]="Videos";MediaTypeOptions["Images"]="Images";})(MediaTypeOptions||(MediaTypeOptions={}));var VideoExportPreset;(function(VideoExportPreset){VideoExportPreset[VideoExportPreset["Passthrough"]=0]="Passthrough";VideoExportPreset[VideoExportPreset["LowQuality"]=1]="LowQuality";VideoExportPreset[VideoExportPreset["MediumQuality"]=2]="MediumQuality";VideoExportPreset[VideoExportPreset["HighestQuality"]=3]="HighestQuality";VideoExportPreset[VideoExportPreset["H264_640x480"]=4]="H264_640x480";VideoExportPreset[VideoExportPreset["H264_960x540"]=5]="H264_960x540";VideoExportPreset[VideoExportPreset["H264_1280x720"]=6]="H264_1280x720";VideoExportPreset[VideoExportPreset["H264_1920x1080"]=7]="H264_1920x1080";VideoExportPreset[VideoExportPreset["H264_3840x2160"]=8]="H264_3840x2160";VideoExportPreset[VideoExportPreset["HEVC_1920x1080"]=9]="HEVC_1920x1080";VideoExportPreset[VideoExportPreset["HEVC_3840x2160"]=10]="HEVC_3840x2160";})(VideoExportPreset||(VideoExportPreset={}));var UIImagePickerControllerQualityType;(function(UIImagePickerControllerQualityType){UIImagePickerControllerQualityType[UIImagePickerControllerQualityType["High"]=0]="High";UIImagePickerControllerQualityType[UIImagePickerControllerQualityType["Medium"]=1]="Medium";UIImagePickerControllerQualityType[UIImagePickerControllerQualityType["Low"]=2]="Low";UIImagePickerControllerQualityType[UIImagePickerControllerQualityType["VGA640x480"]=3]="VGA640x480";UIImagePickerControllerQualityType[UIImagePickerControllerQualityType["IFrame1280x720"]=4]="IFrame1280x720";UIImagePickerControllerQualityType[UIImagePickerControllerQualityType["IFrame960x540"]=5]="IFrame960x540";})(UIImagePickerControllerQualityType||(UIImagePickerControllerQualityType={}));var UIImagePickerPresentationStyle;(function(UIImagePickerPresentationStyle){UIImagePickerPresentationStyle["FULL_SCREEN"]="fullScreen";UIImagePickerPresentationStyle["PAGE_SHEET"]="pageSheet";UIImagePickerPresentationStyle["FORM_SHEET"]="formSheet";UIImagePickerPresentationStyle["CURRENT_CONTEXT"]="currentContext";UIImagePickerPresentationStyle["OVER_FULL_SCREEN"]="overFullScreen";UIImagePickerPresentationStyle["OVER_CURRENT_CONTEXT"]="overCurrentContext";UIImagePickerPresentationStyle["POPOVER"]="popover";UIImagePickerPresentationStyle["AUTOMATIC"]="automatic";})(UIImagePickerPresentationStyle||(UIImagePickerPresentationStyle={}));var UIImagePickerPreferredAssetRepresentationMode;(function(UIImagePickerPreferredAssetRepresentationMode){UIImagePickerPreferredAssetRepresentationMode["Automatic"]="automatic";UIImagePickerPreferredAssetRepresentationMode["Compatible"]="compatible";UIImagePickerPreferredAssetRepresentationMode["Current"]="current";})(UIImagePickerPreferredAssetRepresentationMode||(UIImagePickerPreferredAssetRepresentationMode={}));var CameraType;(function(CameraType){CameraType["back"]="back";CameraType["front"]="front";})(CameraType||(CameraType={}));

/***/ })

}])
//# sourceMappingURL=8712.5317510e.chunk.js.map