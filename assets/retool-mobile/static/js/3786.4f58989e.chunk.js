(self["webpackChunkwebpack_mobile"] = self["webpackChunkwebpack_mobile"] || []).push([[3786],{

/***/ 981178:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(985707);
const DisabledByContainerContext=(0,_retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_0__.createContext)(false);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisabledByContainerContext);

/***/ }),

/***/ 228928:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  createFolder: () => (/* binding */ createFolder),
  deleteFile: () => (/* binding */ deleteFile),
  deleteFolder: () => (/* binding */ deleteFolder),
  getFile: () => (/* binding */ getFile),
  getFileMetadata: () => (/* binding */ getFileMetadata),
  getFiles: () => (/* binding */ getFiles),
  getFilesPaginated: () => (/* binding */ getFilesPaginated),
  getFolders: () => (/* binding */ getFolders),
  moveFileToFolder: () => (/* binding */ moveFileToFolder),
  moveFileToFolderName: () => (/* binding */ moveFileToFolderName),
  renameFolder: () => (/* binding */ renameFolder),
  updateFileMetadata: () => (/* binding */ updateFileMetadata),
  uploadFile: () => (/* binding */ uploadFile)
});

// EXTERNAL MODULE: ../frontend/src/common/pageUtils.ts
var pageUtils = __webpack_require__(289204);
// EXTERNAL MODULE: ../frontend/src/networking/index.ts + 1 modules
var networking = __webpack_require__(259316);
;// CONCATENATED MODULE: ../frontend/src/routes/RetoolStorage/publicAppUuidExtractor.ts
const PUBLIC_APP_URL_REGEX=/^\/embedded\/public\/[a-f0-9-]+(?:\?.*)?$/;const FORM_APP_URL_REGEX=/^\/form\/[a-f0-9-]+(?:\?.*)?$/;function getPublicAppUuid(pageUrl){const url=new URL(pageUrl);if(PUBLIC_APP_URL_REGEX.test(url.pathname)){return url.pathname.split('/').pop();}if(FORM_APP_URL_REGEX.test(url.pathname)){return url.pathname.split('/').pop();}return null;}
;// CONCATENATED MODULE: ../frontend/src/routes/RetoolStorage/api.ts
const BASE_URL='/api/files';async function getFiles({environmentId,name,limit}={}){const params={};if(environmentId)params.env=environmentId;if(name)params.name=name;if(limit)params.limit=String(limit);return (0,networking.callInternalApi)({url:`${BASE_URL}?${new URLSearchParams(params).toString()}`,method:'GET'});}async function getFilesPaginated(passedParams){const params={};Object.entries(passedParams).forEach(([key,value])=>{params[key]=String(value);});return (0,networking.callInternalApi)({url:`${BASE_URL}/list?${new URLSearchParams(params).toString()}`,method:'GET'});}async function getFileMetadata(fileId){return await (0,networking.callInternalApi)({url:`${BASE_URL}/${fileId}/metadata`,method:'GET'});}async function uploadFile(file,folderName,options){const formData=new FormData();const{fetchPolyfill,environmentId,shouldOverwriteOnNameCollision}=options;formData.append('file',file);const queryParams=[];if(folderName){queryParams.push(`folderName=${folderName}`);}if(environmentId){queryParams.push(`env=${environmentId}`);}if(shouldOverwriteOnNameCollision){queryParams.push(`shouldOverwriteOnNameCollision=true`);}if(options.isPublic){queryParams.push(`isPublic=true`);}let uploadUrl=`${BASE_URL}/upload${queryParams.length?`?${queryParams.join('&')}`:''}`;if((0,pageUtils.onEmbeddedPage)()){const pageUuid=getPublicAppUuid(window.location.href);if(pageUuid){uploadUrl=`/api/public/${pageUuid}/files/upload${queryParams.length?`?${queryParams.join('&')}`:''}`;}}const res=await (0,networking.callInternalApi)({url:uploadUrl,method:'POST',formDataBody:formData,fetchPolyfill});return res;}async function updateFileMetadata(fileId,metadata){return await (0,networking.callInternalApi)({url:`${BASE_URL}/${fileId}/metadata`,method:'POST',body:metadata});}async function deleteFile(fileId,environmentId){return await (0,networking.callInternalApi)({url:`${BASE_URL}/${fileId}${environmentId?`?env=${environmentId}`:''}`,method:'DELETE'});}async function getFile(fileId,pageUuid,environmentId){let url=`${BASE_URL}/${fileId}${environmentId?`?env=${environmentId}`:''}`;if((0,pageUtils.onEmbeddedPage)()&&pageUuid){url=`/api/public/${pageUuid}/files/${fileId}`;}return (0,networking.callInternalApi)({url,method:'GET',isFileStorageResponse:true});}async function getFolders(args){const{name,limit}=args!==null&&args!==void 0?args:{};const params={};if(name)params.name=name;if(limit)params.limit=String(limit);return (0,networking.callInternalApi)({url:`${BASE_URL}/folders?${new URLSearchParams(params).toString()}`,method:'GET'});}async function createFolder(folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders`,method:'POST',body:{folderName}});}async function deleteFolder(folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/${encodeURIComponent(folderName)}`,method:'DELETE'});}async function moveFileToFolder(fileId,folderId){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/moveFile`,method:'POST',body:{fileId,folderId}});}async function moveFileToFolderName(fileId,folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/moveFile`,method:'POST',body:{fileId,folderName}});}async function renameFolder(folderId,folderName){return (0,networking.callInternalApi)({url:`${BASE_URL}/folders/rename`,method:'POST',body:{folderId,folderName}});}

/***/ }),

/***/ 353786:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ FileInputWidget)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(961639);
// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(421565);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/Platform.js + 1 modules
var Platform = __webpack_require__(11157);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-document-picker@12.0.2_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encodin_ych3msdejh3d7iyf44ejwwktzi/node_modules/expo-document-picker/build/ExpoDocumentPicker.web.js
/* harmony default export */ const ExpoDocumentPicker_web = ({async getDocumentAsync({type='*/*',multiple=false}){if(!Platform["default"].isDOMAvailable){return{canceled:true,assets:null};}const input=document.createElement('input');input.style.display='none';input.setAttribute('type','file');input.setAttribute('accept',Array.isArray(type)?type.join(','):type);input.setAttribute('id',String(Math.random()));if(multiple){input.setAttribute('multiple','multiple');}document.body.appendChild(input);return new Promise((resolve,reject)=>{input.addEventListener('change',async()=>{if(input.files){const results=[];for(let i=0;i<input.files.length;i++){results.push(readFileAsync(input.files[i]));}try{const assets=await Promise.all(results);resolve({canceled:false,assets,output:input.files});}catch(e){reject(e);}}else{resolve({canceled:true,assets:null});}document.body.removeChild(input);});input.addEventListener('cancel',()=>{resolve({canceled:true,assets:null});});const event=new MouseEvent('click');input.dispatchEvent(event);});}});function readFileAsync(targetFile){return new Promise((resolve,reject)=>{const mimeType=targetFile.type;const reader=new FileReader();reader.onerror=()=>{reject(new Error(`Failed to read the selected media because the operation failed.`));};reader.onload=({target})=>{const uri=target.result;resolve({uri,mimeType,name:targetFile.name,lastModified:targetFile.lastModified,size:targetFile.size,file:targetFile});};reader.readAsDataURL(targetFile);});}
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-document-picker@12.0.2_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encodin_ych3msdejh3d7iyf44ejwwktzi/node_modules/expo-document-picker/build/index.js
async function getDocumentAsync({type='*/*',copyToCacheDirectory=true,multiple=false}={}){if(typeof type==='string'){type=[type];}return await ExpoDocumentPicker_web.getDocumentAsync({type,copyToCacheDirectory,multiple});}
// EXTERNAL MODULE: ../frontend/src/common/platform.ts + 1 modules
var platform = __webpack_require__(555522);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/FileInput/options.ts
const options={};/* harmony default export */ const FileInput_options = (options);
// EXTERNAL MODULE: ../packages/runtimeShared/plugins/registry.ts + 28 modules
var registry = __webpack_require__(730223);
// EXTERNAL MODULE: ../packages/common/plugins/widgets/v2/api/values/commonTemplates.ts
var commonTemplates = __webpack_require__(974888);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/FileInput/template.ts
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const template=_objectSpread(_objectSpread({},commonTemplates.formFieldTemplate),{},{label:'string',placeholder:'string',disabled:'boolean',value:'string',file:'file?',accept:'string[]',uploadToRetoolStorage:'boolean',shouldOverwriteOnNameCollision:'boolean',isPublic:'boolean'});function emptyAssert(_){}emptyAssert(template);/* harmony default export */ const FileInput_template = (template);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/FileInput/widgetRuntimeOptions.ts
/* harmony default export */ const widgetRuntimeOptions = ((0,registry.registerMobile)({typeKey:'RNFileInputWidget',events:['change'],name:'FileInput',formFieldType:'mobile',template: FileInput_template,validation:true}));
// EXTERNAL MODULE: ./src/components/plugins/widgets/connectMobileWidget.tsx + 9 modules
var connectMobileWidget = __webpack_require__(360062);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(985707);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/ActivityIndicator/index.js
var ActivityIndicator = __webpack_require__(65647);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(460648);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/View/index.js
var View = __webpack_require__(130486);
// EXTERNAL MODULE: ./src/toolbox/Icon/Icon.tsx + 3683 modules
var Icon = __webpack_require__(312220);
// EXTERNAL MODULE: ./src/utilities/colors.ts
var colors = __webpack_require__(240664);
// EXTERNAL MODULE: ./src/utilities/theme.ts
var utilities_theme = __webpack_require__(690059);
// EXTERNAL MODULE: ./src/components/design-system/Label.tsx
var Label = __webpack_require__(82881);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Keyboard/index.js
var Keyboard = __webpack_require__(470330);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Pressable/index.js + 4 modules
var Pressable = __webpack_require__(770665);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Text/index.js
var Text = __webpack_require__(219740);
// EXTERNAL MODULE: ../packages/common/utils/colorUtils.ts
var colorUtils = __webpack_require__(238404);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/style/utils/colorUtils.ts + 1 modules
var utils_colorUtils = __webpack_require__(6709);
// EXTERNAL MODULE: ./src/toolbox/Shimmer/index.tsx
var Shimmer = __webpack_require__(509039);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(453175);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/FileInput/FileInputButton.tsx
const styles=StyleSheet["default"].create({button:{alignItems:'center',justifyContent:'center',flexDirection:'row'},text:{fontWeight:'500',flexShrink:1},container:{paddingHorizontal:12,flexDirection:'row',alignItems:'center',flexGrow:1,justifyContent:'space-between',maxWidth:'100%'}});const FileInputButton=({title,onPress,rightElement,backgroundColor:_backgroundColor=colors.primary,textColor:_textColor=colors.textLight,disabled=false,fetching=false,loading=false,borderRadius=6,borderWidth=0,borderColor='transparent',borderStyle='solid',accessibilityLabel='button',dismissKeyboard=false,testID,hitSlop=0})=>{const height=50;const getButtonStyles=(0,react.useCallback)(({pressed})=>{const backgroundColor=disabled?(0,colorUtils.withDisabledWash)(_backgroundColor):_backgroundColor;const isDarkColor=(0,utils_colorUtils.isDark)([backgroundColor]);const darkenColor=(0,utils_colorUtils.darkenBy)(10)([backgroundColor]);const lightenColor=(0,utils_colorUtils.lightenBy)(10)([backgroundColor]);const pressedColor=isDarkColor?lightenColor:darkenColor;return[{backgroundColor:pressed?pressedColor:backgroundColor,height,borderRadius,borderWidth,borderColor,borderStyle},styles.button];},[_backgroundColor,disabled,borderColor,borderRadius,borderStyle,borderWidth]);const textStyles=(0,react.useMemo)(()=>{const textColor=disabled?(0,colorUtils.withDisabledWash)(_textColor):_textColor;return{color:textColor,lineHeight:24,fontSize:17};},[_textColor,disabled]);let content=(0,jsx_runtime.jsxs)(View["default"],{style:styles.container,children:[!!title&&(0,jsx_runtime.jsx)(Text["default"],{style:[styles.text,textStyles],numberOfLines:1,ellipsizeMode:"tail",children:title}),(0,jsx_runtime.jsx)(View["default"],{style:{paddingLeft:!title?0:12,flexShrink:0},children:rightElement})]});if(loading){content=(0,jsx_runtime.jsx)(ActivityIndicator["default"],{color:colors.secondary});}return fetching?(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:height}):(0,jsx_runtime.jsx)(Pressable["default"],{disabled:disabled,accessibilityLabel:accessibilityLabel,onPress:()=>{if(dismissKeyboard){Keyboard["default"].dismiss();}onPress();},style:getButtonStyles,testID:testID,hitSlop:hitSlop,children:content});};/* harmony default export */ const FileInput_FileInputButton = (FileInputButton);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/FileInput/FileInput.tsx
const FileInput_styles=StyleSheet["default"].create({labelContainer:{flexDirection:'row',justifyContent:'space-between',paddingHorizontal:4}});const FileInput=({label,placeholder,onPress,disabled,file,fetching=false,required})=>{var _theme$borderRadius;const theme=(0,react.useContext)(utilities_theme["default"]);const borderRadius=(_theme$borderRadius=theme.borderRadius)!==null&&_theme$borderRadius!==void 0?_theme$borderRadius:6;const fileName=file===null||file===void 0?void 0:file.name;const fileLabel=fileName||placeholder||'Attach a file';return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(View["default"],{style:FileInput_styles.labelContainer,children:(0,jsx_runtime.jsx)(Label["default"],{title:label,loading:fetching,disabled:disabled,required:required})}),(0,jsx_runtime.jsx)(FileInput_FileInputButton,{disabled:disabled,textColor:colors.midGrey,backgroundColor:colors.nearWhite,rightElement:file!==null&&file!==void 0&&file.uploading?(0,jsx_runtime.jsx)(ActivityIndicator["default"],{color:colors.gray900}):(0,jsx_runtime.jsx)(Icon.Icon,{name:"line/interface-edit-attachment-2"}),onPress:onPress,title:fileLabel,loading:fetching,borderRadius:borderRadius})]});};/* harmony default export */ const FileInput_FileInput = (FileInput);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-toast-message@1.6.0_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.2_w2ptlr2k7f3d44bgbbtyojwe7i/node_modules/react-native-toast-message/index.js + 15 modules
var react_native_toast_message = __webpack_require__(697103);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/EventEmitter.js
var EventEmitter = __webpack_require__(870566);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/UnavailabilityError.js
var UnavailabilityError = __webpack_require__(200222);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/uuid/lib/sha1.js
function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:return x^y^z;case 2:return x&y^x&z^y&z;case 3:return x^y^z;default:return 0;}}function ROTL(x,n){return x<<n|x>>>32-n;}function sha1(bytes){const K=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];const H=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if(typeof bytes=='string'){const msg=unescape(encodeURIComponent(bytes));bytes=new Array(msg.length);for(let i=0;i<msg.length;i++)bytes[i]=msg.charCodeAt(i);}bytes.push(0x80);const l=bytes.length/4+2;const N=Math.ceil(l/16);const M=new Array(N);for(let i=0;i<N;i++){M[i]=new Array(16);for(let j=0;j<16;j++){M[i][j]=bytes[i*64+j*4]<<24|bytes[i*64+j*4+1]<<16|bytes[i*64+j*4+2]<<8|bytes[i*64+j*4+3];}}M[N-1][14]=(bytes.length-1)*8/Math.pow(2,32);M[N-1][14]=Math.floor(M[N-1][14]);M[N-1][15]=(bytes.length-1)*8&0xffffffff;for(let i=0;i<N;i++){const W=new Array(80);for(let t=0;t<16;t++)W[t]=M[i][t];for(let t=16;t<80;t++){W[t]=ROTL(W[t-3]^W[t-8]^W[t-14]^W[t-16],1);}let a=H[0];let b=H[1];let c=H[2];let d=H[3];let e=H[4];for(let t=0;t<80;t++){const s=Math.floor(t/20);const T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[t]>>>0;e=d;d=c;c=ROTL(b,30)>>>0;b=a;a=T;}H[0]=H[0]+a>>>0;H[1]=H[1]+b>>>0;H[2]=H[2]+c>>>0;H[3]=H[3]+d>>>0;H[4]=H[4]+e>>>0;}return[H[0]>>24&0xff,H[0]>>16&0xff,H[0]>>8&0xff,H[0]&0xff,H[1]>>24&0xff,H[1]>>16&0xff,H[1]>>8&0xff,H[1]&0xff,H[2]>>24&0xff,H[2]>>16&0xff,H[2]>>8&0xff,H[2]&0xff,H[3]>>24&0xff,H[3]>>16&0xff,H[3]>>8&0xff,H[3]&0xff,H[4]>>24&0xff,H[4]>>16&0xff,H[4]>>8&0xff,H[4]&0xff];}/* harmony default export */ const lib_sha1 = (sha1);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/uuid/lib/bytesToUuid.js
const byteToHex=[];for(let i=0;i<256;++i){byteToHex[i]=(i+0x100).toString(16).substr(1);}function bytesToUuid(buf,offset){let i=offset||0;const bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],'-',bth[buf[i++]],bth[buf[i++]],'-',bth[buf[i++]],bth[buf[i++]],'-',bth[buf[i++]],bth[buf[i++]],'-',bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join('');}/* harmony default export */ const lib_bytesToUuid = (bytesToUuid);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/uuid/lib/v35.js
function uuidToBytes(uuid){const bytes=[];uuid.replace(/[a-fA-F0-9]{2}/g,hex=>{bytes.push(parseInt(hex,16));return'';});return bytes;}function stringToBytes(str){str=unescape(encodeURIComponent(str));const bytes=new Array(str.length);for(let i=0;i<str.length;i++){bytes[i]=str.charCodeAt(i);}return bytes;}/* harmony default export */ function v35(name,version,hashfunc){const generateUUID=function(value,namespace,buf,offset){const off=buf&&offset||0;if(typeof value=='string')value=stringToBytes(value);if(typeof namespace=='string')namespace=uuidToBytes(namespace);if(!Array.isArray(value))throw TypeError('value must be an array of bytes');if(!Array.isArray(namespace)||namespace.length!==16)throw TypeError('namespace must be uuid string or an Array of 16 byte values');const bytes=hashfunc(namespace.concat(value));bytes[6]=bytes[6]&0x0f|version;bytes[8]=bytes[8]&0x3f|0x80;if(buf){for(let idx=0;idx<16;++idx){buf[off+idx]=bytes[idx];}}return lib_bytesToUuid(bytes);};try{generateUUID.name=name;}catch{}generateUUID.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8';generateUUID.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8';return generateUUID;}
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/uuid/uuid.types.js
var Uuidv5Namespace;(function(Uuidv5Namespace){Uuidv5Namespace["dns"]="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Uuidv5Namespace["url"]="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Uuidv5Namespace["oid"]="6ba7b812-9dad-11d1-80b4-00c04fd430c8";Uuidv5Namespace["x500"]="6ba7b814-9dad-11d1-80b4-00c04fd430c8";})(Uuidv5Namespace||(Uuidv5Namespace={}));
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/uuid/uuid.web.js
function uuidv4(){const cryptoObject=typeof crypto==='undefined'||typeof crypto.randomUUID==='undefined'?__webpack_require__(819121):crypto;if(!(cryptoObject!==null&&cryptoObject!==void 0&&cryptoObject.randomUUID)){throw Error("The browser doesn't support `crypto.randomUUID` function");}return cryptoObject.randomUUID();}const uuid={v4:uuidv4,v5:v35('v5',0x50,lib_sha1),namespace:Uuidv5Namespace};/* harmony default export */ const uuid_web = (uuid);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-file-system@17.0.1_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0._vsejptiu72bqgm2kdkxiitpjni/node_modules/expo-file-system/build/ExponentFileSystemShim.js
const platformModule={get documentDirectory(){return null;},get cacheDirectory(){return null;},get bundleDirectory(){return null;},addListener(eventName){},removeListeners(count){}};/* harmony default export */ const ExponentFileSystemShim = (platformModule);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-file-system@17.0.1_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0._vsejptiu72bqgm2kdkxiitpjni/node_modules/expo-file-system/build/ExponentFileSystem.web.js
/* harmony default export */ const ExponentFileSystem_web = (ExponentFileSystemShim);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-file-system@17.0.1_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0._vsejptiu72bqgm2kdkxiitpjni/node_modules/expo-file-system/build/FileSystem.types.js
var FileSystemSessionType;(function(FileSystemSessionType){FileSystemSessionType[FileSystemSessionType["BACKGROUND"]=0]="BACKGROUND";FileSystemSessionType[FileSystemSessionType["FOREGROUND"]=1]="FOREGROUND";})(FileSystemSessionType||(FileSystemSessionType={}));var FileSystemUploadType;(function(FileSystemUploadType){FileSystemUploadType[FileSystemUploadType["BINARY_CONTENT"]=0]="BINARY_CONTENT";FileSystemUploadType[FileSystemUploadType["MULTIPART"]=1]="MULTIPART";})(FileSystemUploadType||(FileSystemUploadType={}));var EncodingType;(function(EncodingType){EncodingType["UTF8"]="utf8";EncodingType["Base64"]="base64";})(EncodingType||(EncodingType={}));
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-file-system@17.0.1_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0._vsejptiu72bqgm2kdkxiitpjni/node_modules/expo-file-system/build/FileSystem.js
function FileSystem_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function FileSystem_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FileSystem_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FileSystem_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}if(!ExponentFileSystem_web){console.warn("No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?");}const _unused=new EventEmitter.EventEmitter(ExponentFileSystem_web);function normalizeEndingSlash(p){if(p!=null){return p.replace(/\/*$/,'')+'/';}return null;}const documentDirectory=normalizeEndingSlash(ExponentFileSystem_web.documentDirectory);const cacheDirectory=normalizeEndingSlash(ExponentFileSystem_web.cacheDirectory);const bundleDirectory=normalizeEndingSlash(ExponentFileSystem_web.bundleDirectory);async function getInfoAsync(fileUri,options={}){if(!ExponentFileSystem_web.getInfoAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','getInfoAsync');}return await ExponentFileSystem_web.getInfoAsync(fileUri,options);}async function readAsStringAsync(fileUri,options={}){if(!ExponentFileSystem_web.readAsStringAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','readAsStringAsync');}return await ExponentFileSystem_web.readAsStringAsync(fileUri,options);}async function getContentUriAsync(fileUri){if(false){}else{return fileUri;}}async function writeAsStringAsync(fileUri,contents,options={}){if(!ExponentFileSystem_web.writeAsStringAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','writeAsStringAsync');}return await ExponentFileSystem_web.writeAsStringAsync(fileUri,contents,options);}async function deleteAsync(fileUri,options={}){if(!ExponentFileSystem_web.deleteAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','deleteAsync');}return await ExponentFileSystem_web.deleteAsync(fileUri,options);}async function deleteLegacyDocumentDirectoryAndroid(){if(true){return;}const legacyDocumentDirectory=`${documentDirectory}ExperienceData/`;return await deleteAsync(legacyDocumentDirectory,{idempotent:true});}async function moveAsync(options){if(!ExponentFileSystem_web.moveAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','moveAsync');}return await ExponentFileSystem_web.moveAsync(options);}async function copyAsync(options){if(!ExponentFileSystem_web.copyAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','copyAsync');}return await ExponentFileSystem_web.copyAsync(options);}async function makeDirectoryAsync(fileUri,options={}){if(!ExponentFileSystem_web.makeDirectoryAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','makeDirectoryAsync');}return await ExponentFileSystem_web.makeDirectoryAsync(fileUri,options);}async function readDirectoryAsync(fileUri){if(!ExponentFileSystem_web.readDirectoryAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','readDirectoryAsync');}return await ExponentFileSystem_web.readDirectoryAsync(fileUri);}async function getFreeDiskStorageAsync(){if(!ExponentFileSystem_web.getFreeDiskStorageAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','getFreeDiskStorageAsync');}return await ExponentFileSystem_web.getFreeDiskStorageAsync();}async function getTotalDiskCapacityAsync(){if(!ExponentFileSystem_web.getTotalDiskCapacityAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','getTotalDiskCapacityAsync');}return await ExponentFileSystem_web.getTotalDiskCapacityAsync();}async function downloadAsync(uri,fileUri,options={}){if(!ExponentFileSystem_web.downloadAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','downloadAsync');}return await ExponentFileSystem_web.downloadAsync(uri,fileUri,FileSystem_objectSpread({sessionType:FileSystemSessionType.BACKGROUND},options));}async function uploadAsync(url,fileUri,options={}){if(!ExponentFileSystem_web.uploadAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','uploadAsync');}return await ExponentFileSystem_web.uploadAsync(url,fileUri,FileSystem_objectSpread(FileSystem_objectSpread({sessionType:FileSystemSessionType.BACKGROUND,uploadType:FileSystemUploadType.BINARY_CONTENT},options),{},{httpMethod:(options.httpMethod||'POST').toUpperCase()}));}function createDownloadResumable(uri,fileUri,options,callback,resumeData){return new DownloadResumable(uri,fileUri,options,callback,resumeData);}function createUploadTask(url,fileUri,options,callback){return new UploadTask(url,fileUri,options,callback);}class FileSystemCancellableNetworkTask{_uuid=uuid_web.v4();taskWasCanceled=false;emitter=new EventEmitter.EventEmitter(ExponentFileSystem_web);async cancelAsync(){if(!ExponentFileSystem_web.networkTaskCancelAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','networkTaskCancelAsync');}this.removeSubscription();this.taskWasCanceled=true;return await ExponentFileSystem_web.networkTaskCancelAsync(this.uuid);}isTaskCancelled(){if(this.taskWasCanceled){console.warn('This task was already canceled.');return true;}return false;}get uuid(){return this._uuid;}addSubscription(){if(this.subscription){return;}this.subscription=this.emitter.addListener(this.getEventName(),event=>{if(event.uuid===this.uuid){const callback=this.getCallback();if(callback){callback(event.data);}}});}removeSubscription(){if(!this.subscription){return;}this.emitter.removeSubscription(this.subscription);this.subscription=null;}}class UploadTask extends FileSystemCancellableNetworkTask{constructor(url,fileUri,options,callback){var _options$httpMethod;super();this.url=url;this.fileUri=fileUri;this.callback=callback;const httpMethod=(options===null||options===void 0?void 0:(_options$httpMethod=options.httpMethod)===null||_options$httpMethod===void 0?void 0:_options$httpMethod.toUpperCase())||'POST';this.options=FileSystem_objectSpread(FileSystem_objectSpread({sessionType:FileSystemSessionType.BACKGROUND,uploadType:FileSystemUploadType.BINARY_CONTENT},options),{},{httpMethod});}getEventName(){return'expo-file-system.uploadProgress';}getCallback(){return this.callback;}async uploadAsync(){if(!ExponentFileSystem_web.uploadTaskStartAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','uploadTaskStartAsync');}if(this.isTaskCancelled()){return;}this.addSubscription();const result=await ExponentFileSystem_web.uploadTaskStartAsync(this.url,this.fileUri,this.uuid,this.options);this.removeSubscription();return result;}}class DownloadResumable extends FileSystemCancellableNetworkTask{constructor(url,_fileUri,options={},callback,resumeData){super();this.url=url;this._fileUri=_fileUri;this.options=options;this.callback=callback;this.resumeData=resumeData;}get fileUri(){return this._fileUri;}getEventName(){return'expo-file-system.downloadProgress';}getCallback(){return this.callback;}async downloadAsync(){if(!ExponentFileSystem_web.downloadResumableStartAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','downloadResumableStartAsync');}if(this.isTaskCancelled()){return;}this.addSubscription();return await ExponentFileSystem_web.downloadResumableStartAsync(this.url,this._fileUri,this.uuid,this.options,this.resumeData);}async pauseAsync(){if(!ExponentFileSystem_web.downloadResumablePauseAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','downloadResumablePauseAsync');}if(this.isTaskCancelled()){return{fileUri:this._fileUri,options:this.options,url:this.url};}const pauseResult=await ExponentFileSystem_web.downloadResumablePauseAsync(this.uuid);this.removeSubscription();if(pauseResult){this.resumeData=pauseResult.resumeData;return this.savable();}else{throw new Error('Unable to generate a savable pause state');}}async resumeAsync(){if(!ExponentFileSystem_web.downloadResumableStartAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','downloadResumableStartAsync');}if(this.isTaskCancelled()){return;}this.addSubscription();return await ExponentFileSystem_web.downloadResumableStartAsync(this.url,this.fileUri,this.uuid,this.options,this.resumeData);}savable(){return{url:this.url,fileUri:this.fileUri,options:this.options,resumeData:this.resumeData};}}const baseReadAsStringAsync=readAsStringAsync;const baseWriteAsStringAsync=writeAsStringAsync;const baseDeleteAsync=deleteAsync;const baseMoveAsync=moveAsync;const baseCopyAsync=copyAsync;var StorageAccessFramework;(function(StorageAccessFramework){function getUriForDirectoryInRoot(folderName){return`content://com.android.externalstorage.documents/tree/primary:${folderName}/document/primary:${folderName}`;}StorageAccessFramework.getUriForDirectoryInRoot=getUriForDirectoryInRoot;async function requestDirectoryPermissionsAsync(initialFileUrl=null){if(!ExponentFileSystem_web.requestDirectoryPermissionsAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','StorageAccessFramework.requestDirectoryPermissionsAsync');}return await ExponentFileSystem_web.requestDirectoryPermissionsAsync(initialFileUrl);}StorageAccessFramework.requestDirectoryPermissionsAsync=requestDirectoryPermissionsAsync;async function readDirectoryAsync(dirUri){if(!ExponentFileSystem_web.readSAFDirectoryAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','StorageAccessFramework.readDirectoryAsync');}return await ExponentFileSystem_web.readSAFDirectoryAsync(dirUri);}StorageAccessFramework.readDirectoryAsync=readDirectoryAsync;async function makeDirectoryAsync(parentUri,dirName){if(!ExponentFileSystem_web.makeSAFDirectoryAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','StorageAccessFramework.makeDirectoryAsync');}return await ExponentFileSystem_web.makeSAFDirectoryAsync(parentUri,dirName);}StorageAccessFramework.makeDirectoryAsync=makeDirectoryAsync;async function createFileAsync(parentUri,fileName,mimeType){if(!ExponentFileSystem_web.createSAFFileAsync){throw new UnavailabilityError.UnavailabilityError('expo-file-system','StorageAccessFramework.createFileAsync');}return await ExponentFileSystem_web.createSAFFileAsync(parentUri,fileName,mimeType);}StorageAccessFramework.createFileAsync=createFileAsync;StorageAccessFramework.writeAsStringAsync=baseWriteAsStringAsync;StorageAccessFramework.readAsStringAsync=baseReadAsStringAsync;StorageAccessFramework.deleteAsync=baseDeleteAsync;StorageAccessFramework.moveAsync=baseMoveAsync;StorageAccessFramework.copyAsync=baseCopyAsync;})(StorageAccessFramework||(StorageAccessFramework={}));
// EXTERNAL MODULE: ../frontend/src/routes/RetoolStorage/api.ts + 1 modules
var api = __webpack_require__(228928);
// EXTERNAL MODULE: ./src/utilities/retoolStorage.ts
var retoolStorage = __webpack_require__(725590);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/FileInput/handleFileChange.ts
function handleFileChange_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function handleFileChange_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?handleFileChange_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):handleFileChange_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const getBase64Contents=async(uri,mimeType)=>{if(platform.PLATFORM==='web'){return uri;}let base64='';try{if(uri){var _await$FileSystem$rea;const base64Contents=(_await$FileSystem$rea=await readAsStringAsync(uri,{encoding:'base64'}))!==null&&_await$FileSystem$rea!==void 0?_await$FileSystem$rea:'';base64=`data:${mimeType};base64,${base64Contents}`;}}catch{}return base64;};const handleFileChange=async(uri,file,{updateModel,onChange,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic})=>{const value=await getBase64Contents(uri,file.type);if(uploadToRetoolStorage){var _uploadedFile$name;const clonedFile={name:file.name,lastModified:file.lastModified,size:file.size,type:file.type,uploading:true};updateModel({value,file:clonedFile});const fileObject=await (0,retoolStorage.createFileFromBase64)(value,file.name,file.type);let uploadedFile;try{uploadedFile=await (0,api.uploadFile)(fileObject,'',{fetchPolyfill: retoolStorage.fetchPolyfill,shouldOverwriteOnNameCollision,isPublic});}catch(e){react_native_toast_message["default"].show({type:'error',text1:e.message});updateModel({file:handleFileChange_objectSpread(handleFileChange_objectSpread({},clonedFile),{},{uploading:false})});return;}updateModel({file:handleFileChange_objectSpread(handleFileChange_objectSpread({},clonedFile),{},{uploading:false,retoolStorageId:uploadedFile.id,name:(_uploadedFile$name=uploadedFile.name)!==null&&_uploadedFile$name!==void 0?_uploadedFile$name:clonedFile.name})});}else{updateModel({value,file});onChange===null||onChange===void 0?void 0:onChange();}};/* harmony default export */ const FileInput_handleFileChange = (handleFileChange);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/FileInput/FileInputWidget.tsx
const _excluded=["accept","uploadToRetoolStorage","shouldOverwriteOnNameCollision","isPublic","apiRef","onChange","updateModel"];function FileInputWidget_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function FileInputWidget_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FileInputWidget_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FileInputWidget_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}/* harmony default export */ const FileInputWidget = ((0,connectMobileWidget["default"])(widgetRuntimeOptions.typeKey,FileInput_FileInput,widgetRuntimeOptions,FileInput_options,_ref=>{let{accept,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,apiRef,onChange,updateModel}=_ref,rest=(0,objectWithoutProperties["default"])(_ref,_excluded);return FileInputWidget_objectSpread(FileInputWidget_objectSpread({},rest),{},{inputRef:apiRef,accept,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic,async onPress(){const acceptType=(accept=>{accept=accept||undefined;if(typeof accept==='string'){accept=[accept];}if(Array.isArray(accept)){if(accept.length===0){return['*/*'];}}return accept||['*/*'];})(accept);if(platform.PLATFORM==='web'){var _result$assets;const result=await getDocumentAsync({copyToCacheDirectory:true,multiple:false,type:acceptType});if(result.canceled||!((_result$assets=result.assets)!==null&&_result$assets!==void 0&&_result$assets.length)){return;}const{file,uri,name=''}=result.assets[0];if(!file){return;}const{lastModified,size,type}=file;await FileInput_handleFileChange(uri!==null&&uri!==void 0?uri:'',{lastModified,type,name,size,uri},{updateModel,onChange,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic});}else{var _result$assets2;const result=await getDocumentAsync({copyToCacheDirectory:true,multiple:false,type:acceptType});if(result.canceled||!((_result$assets2=result.assets)!==null&&_result$assets2!==void 0&&_result$assets2.length)){return;}const{lastModified=-1,mimeType='',name,size=-1,uri}=result.assets[0];await FileInput_handleFileChange(uri!==null&&uri!==void 0?uri:'',{lastModified,type:mimeType,name,size},{updateModel,onChange,uploadToRetoolStorage,shouldOverwriteOnNameCollision,isPublic});}onChange===null||onChange===void 0?void 0:onChange();}});}));

/***/ }),

/***/ 360062:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ connectWidget)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(961639);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(985707);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-redux@7.2.4_react-dom@18.3.1_react@18.3.1__react-native@0.74.3_@babel+core@7.24.9_@babe_az4c6i5siqhukmd7qezh6vzqeq/node_modules/react-redux/es/index.js + 19 modules
var es = __webpack_require__(66612);
// EXTERNAL MODULE: ../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js
var lodash = __webpack_require__(410642);
var lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);
// EXTERNAL MODULE: ../packages/common/immutable.ts
var immutable = __webpack_require__(789572);
// EXTERNAL MODULE: ../frontend/src/components/plugins/index.ts + 1 modules
var plugins = __webpack_require__(720908);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/utils/getWidgetStyleConfig.ts
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const isConfigWithVariants=config=>!!config&&'variants'in config;const getWidgetStyleConfig=({styles,validation,label})=>{var _styles$prefix,_styles$providesStyle;if(!styles)return;const base={label:!!label,validation:!!validation,prefix:(_styles$prefix=styles===null||styles===void 0?void 0:styles.prefix)!==null&&_styles$prefix!==void 0?_styles$prefix:'',providesStyleContext:(_styles$providesStyle=styles===null||styles===void 0?void 0:styles.providesStyleContext)!==null&&_styles$providesStyle!==void 0?_styles$providesStyle:false};if(!isConfigWithVariants(styles)){const{props={}}=styles!==null&&styles!==void 0?styles:{};return _objectSpread(_objectSpread({},base),{},{variants:{default:props}});}const{variants}=styles;return _objectSpread(_objectSpread({},base),{},{variants});};/* harmony default export */ const utils_getWidgetStyleConfig = (getWidgetStyleConfig);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/common/events/useEventCallbacks.tsx + 2 modules
var useEventCallbacks = __webpack_require__(746968);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(453175);
;// CONCATENATED MODULE: ../frontend/src/components/BaseErrorBoundary.native-web.tsx
const BaseErrorBoundary=({boundaryName:_boundaryName,children})=>{return (0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children});};
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/common/WidgetErrorBoundaryCompat.tsx
const InnerWidgetErrorBoundaryError=({errorMessage,onClickReload,shouldShowReloadButton})=>(0,jsx_runtime.jsxs)("div",{"data-testid":"Widgets::ErrorBoundary_div",children:[(0,jsx_runtime.jsxs)("code",{children:[" Error: ",errorMessage,"... "]}),shouldShowReloadButton&&(0,jsx_runtime.jsx)("button",{type:"button",onClick:onClickReload,children:"reload"})]});
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/common/WidgetErrorBoundary.tsx
function WidgetErrorBoundary_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function WidgetErrorBoundary_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?WidgetErrorBoundary_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WidgetErrorBoundary_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const useErrorBoundaryClientRateLimit=({maxClickCount=3})=>{const[reloadClickCount,setReloadClickCount]=(0,react.useState)(0);const handleClickReload=(0,react.useCallback)(resetError=>{setReloadClickCount(prev=>prev+1);resetError();},[setReloadClickCount]);const shouldAllowReload=reloadClickCount<maxClickCount;return{handleClickReload,shouldAllowReload};};const WidgetErrorBoundary=props=>{const{id:widgetId,largeScreen,editMode,fetching,namespace,position,widgetType,children}=props;const{handleClickReload,shouldAllowReload}=useErrorBoundaryClientRateLimit({});return (0,jsx_runtime.jsx)(BaseErrorBoundary,{boundaryName:widgetType!==null&&widgetType!==void 0?widgetType:'unknown',team:"@tryretool/building-ui-experience",fallback:({error,resetError})=>(0,jsx_runtime.jsx)(InnerWidgetErrorBoundaryError,{errorMessage:error.message.substring(0,160),onClickReload:()=>handleClickReload(resetError),shouldShowReloadButton:shouldAllowReload}),onBeforeCapture:(scope,_error,componentStack)=>{scope.setExtras({info:componentStack,editMode,fetching,largeScreen,namespace:namespace===null||namespace===void 0?void 0:namespace.getNamespace(),position:position===null||position===void 0?void 0:position.toJSON(),widgetId});scope.setLevel('fatal');scope.setTags({widget:widgetType});},children:children});};const withWidgetErrorBoundary=(widgetType,Widget)=>{const WithWidgetErrorBoundary=props=>(0,jsx_runtime.jsx)(WidgetErrorBoundary,WidgetErrorBoundary_objectSpread(WidgetErrorBoundary_objectSpread({},props),{},{widgetType:widgetType,children:(0,jsx_runtime.jsx)(Widget,WidgetErrorBoundary_objectSpread({},props))}));WithWidgetErrorBoundary.displayName=`WithWidgetErrorBoundary(${Widget.displayName||Widget.name||widgetType})`;return WithWidgetErrorBoundary;};
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/disable/DisabledByContainerContext.ts
var DisabledByContainerContext = __webpack_require__(981178);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/v2/api/disable/useDisabledByContainer.ts
function useDisabledByContainer(){return (0,react.useContext)(DisabledByContainerContext["default"]);}
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/jsApi/widgetApiRef.ts
var widgetApiRef = __webpack_require__(664075);
// EXTERNAL MODULE: ../node_modules/.pnpm/immutable@4.0.0-rc.12/node_modules/immutable/dist/immutable.es.js
var immutable_es = __webpack_require__(883006);
// EXTERNAL MODULE: ../packages/runtimeShared/plugins/widgets/v2/api/values/defaultValues.ts
var defaultValues = __webpack_require__(670757);
;// CONCATENATED MODULE: ../frontend/src/components/design-system/Label/constants.ts
const LABEL_WIDTH_UNITS=['%','px','col'];const DEFAULT_LABEL_WIDTH='33';const DEFAULT_INLINE_LABEL_WIDTH='100';const DEFAULT_LABEL_WIDTH_UNIT='%';
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/common/layoutConstants.ts
var layoutConstants = __webpack_require__(849967);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/defaultValues.ts
function defaultValues_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function defaultValues_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?defaultValues_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):defaultValues_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const defaultValueByPropertyDesktop={label:'Label',labelWidth:DEFAULT_LABEL_WIDTH,labelWidthUnit:DEFAULT_LABEL_WIDTH_UNIT,showBorder:true,showHeaderBorder:true,showFooterBorder:true,margin:layoutConstants.DEFAULT_MARGIN};const defaultValueByPropertyMobile=defaultValues_objectSpread(defaultValues_objectSpread({},defaultValueByPropertyDesktop),{},{showBorder:false});function getDefaultValues(config,{hasEvents=false,isMobile=false}){const defaultValueByProperty=isMobile?defaultValueByPropertyMobile:defaultValueByPropertyDesktop;return Object.entries(config).reduce((defaults,[key,type])=>{var _defaultValueByProper;defaults[key]=(_defaultValueByProper=defaultValueByProperty[key])!==null&&_defaultValueByProper!==void 0?_defaultValueByProper:(0,defaultValues.getDefaultValue)(type);return defaults;},defaultValues_objectSpread({},hasEvents?{events:immutable_es["default"].OrderedMap()}:{}));}
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/useModelValues.ts
var useModelValues = __webpack_require__(241387);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/useUpdateModel.ts + 1 modules
var useUpdateModel = __webpack_require__(684313);
// EXTERNAL MODULE: ../frontend/src/hostRuntime/index.ts + 8 modules
var hostRuntime = __webpack_require__(997375);
;// CONCATENATED MODULE: ../frontend/src/store/appModel/triggerPluginApi.ts
function triggerPluginApi({namespacedId,instance,method,paramsObject}){return()=>{return (0,hostRuntime.callHostRuntime)({method:'triggerApiCall',apiMethod:method,namespacedId,instance,paramsObject});};}
// EXTERNAL MODULE: ./src/store/mobileEditorSelector.ts
var mobileEditorSelector = __webpack_require__(762729);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(460648);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Text/index.js
var Text = __webpack_require__(219740);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/View/index.js
var View = __webpack_require__(130486);
// EXTERNAL MODULE: ./src/toolbox/Box/index.tsx + 3 modules
var Box = __webpack_require__(6814);
// EXTERNAL MODULE: ./src/toolbox/Icon/Icon.tsx + 3683 modules
var Icon = __webpack_require__(312220);
// EXTERNAL MODULE: ./src/toolbox/Shimmer/index.tsx
var Shimmer = __webpack_require__(509039);
// EXTERNAL MODULE: ./src/utilities/colors.ts
var colors = __webpack_require__(240664);
;// CONCATENATED MODULE: ./src/components/design-system/FormFeedback.tsx
function FormFeedback_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function FormFeedback_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FormFeedback_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FormFeedback_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const styles=StyleSheet["default"].create({container:{minHeight:25.5,paddingTop:3,flexDirection:'row',alignItems:'center'},icon:{marginRight:3,height:14,width:14},feedback:{fontWeight:'500',fontSize:13,lineHeight:22}});const FormFeedback=({message,type='valid',loading=false})=>{const{iconName,color}=type==='valid'?{iconName:undefined,color:colors.grey}:type==='disabled'?{iconName:undefined,color:colors.disabledInputText}:{iconName:'bold/interface-alert-warning-circle-alternate',color:colors.errorRed};return loading?(0,jsx_runtime.jsx)(Box.Box,{display:"flex",mb:8,children:(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:22})}):(0,jsx_runtime.jsx)(View["default"],{style:styles.container,children:message?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!!iconName&&(0,jsx_runtime.jsx)(View["default"],{style:styles.icon,children:(0,jsx_runtime.jsx)(Icon.Icon,{name:iconName,color:color,size:14})}),(0,jsx_runtime.jsx)(Text["default"],{style:FormFeedback_objectSpread(FormFeedback_objectSpread({},styles.feedback),{},{color}),children:message})]}):null});};/* harmony default export */ const design_system_FormFeedback = (FormFeedback);
// EXTERNAL MODULE: ./src/components/LayoutWrapper.tsx + 3 modules
var LayoutWrapper = __webpack_require__(11412);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/connectMobileWidget.tsx
function connectMobileWidget_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function connectMobileWidget_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?connectMobileWidget_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):connectMobileWidget_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const WidgetWrapper=({id,hidden,type,children,modelObj,style,onClick})=>{const isEditorDisplayMode=(0,es.useSelector)(mobileEditorSelector.isEditorDisplayModeSelector);const{padding,width,cornerType,widthGrowFactor,elevation,showBorder}=modelObj;const disableHidden=type.includes('RNCamera')||type.includes('RNScanner');const isHidden=hidden&&!disableHidden;return (0,jsx_runtime.jsx)(LayoutWrapper["default"],{cornerType:cornerType,elevation:elevation,padding:padding,width:width,widthGrowFactor:widthGrowFactor,showBorder:showBorder,type:type,isHidden:isHidden,isEditorDisplayMode:isEditorDisplayMode,pluginId:id,style:style,onClick:onClick,children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})});};function connectWidget(type,Component,runtimeOptions,options,mapProps){var _runtimeOptions$event;const{events=[],template}=runtimeOptions;const plugin=plugins.PluginRepository[type];if(!plugin){throw new Error(`Widget '${type}' must be registered before it is connected.`);}const styles=utils_getWidgetStyleConfig({styles:options.styles,validation:runtimeOptions.validation,label:options.label});const defaults=getDefaultValues(template,{hasEvents:!!((_runtimeOptions$event=runtimeOptions.events)!==null&&_runtimeOptions$event!==void 0&&_runtimeOptions$event.length),isMobile:true});plugin.template=values=>(0,immutable.makeTypedMap)(defaults).merge(values);plugin.options=connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},plugin.options),options),runtimeOptions),{},{styles});const RetoolWidget=({id,instance,rgProps,namespace,fetching})=>{var _modelObj$hidden;const instanceCompat=instance==null?[]:[instance];const modelObj=(0,useModelValues["default"])({config:template,id,instance:instanceCompat});const updateModel=(0,useUpdateModel["default"])(id,instanceCompat);const disabledByContainer=useDisabledByContainer();const dispatch=(0,es.useDispatch)();const apiRef=(0,widgetApiRef.useWidgetApiRef)(id,instanceCompat);const callbacks=(0,useEventCallbacks["default"])(id,instanceCompat,events);const hidden=(_modelObj$hidden=modelObj.hidden)!==null&&_modelObj$hidden!==void 0?_modelObj$hidden:false;const style=modelObj.style;const errorMessage=runtimeOptions.validation&&!modelObj.hideValidationMessage?modelObj.validationMessage:undefined;const labelCaption=modelObj.labelCaption;const disabled=disabledByContainer||modelObj.disabled;const formFeedbackComponent=(0,react.useMemo)(()=>{if(errorMessage){return (0,jsx_runtime.jsx)(design_system_FormFeedback,{message:errorMessage,type:"invalid"});}else if(labelCaption){return (0,jsx_runtime.jsx)(design_system_FormFeedback,{message:labelCaption,type:disabled?'disabled':'valid'});}else{return null;}},[disabled,errorMessage,labelCaption]);const renderWrapper=(0,react.useCallback)(children=>{const onClick=(()=>{if(type==='RNContainerWidget'){var _modelObj$events$size,_modelObj$events;const numClickEvents=(_modelObj$events$size=(_modelObj$events=modelObj.events)===null||_modelObj$events===void 0?void 0:_modelObj$events.size)!==null&&_modelObj$events$size!==void 0?_modelObj$events$size:0;if(numClickEvents>0){return()=>{var _callbacks$onClick;(_callbacks$onClick=callbacks.onClick)===null||_callbacks$onClick===void 0?void 0:_callbacks$onClick.call(callbacks);};}}})();return (0,jsx_runtime.jsxs)(WidgetWrapper,{id:id,hidden:hidden,type:type,modelObj:modelObj,style:style,onClick:onClick,children:[children,formFeedbackComponent]},id);},[id,hidden,modelObj,style,formFeedbackComponent,callbacks]);const props=mapProps(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},modelObj),callbacks),{},{style,apiRef,id,updateModel,triggerApiCall:({method,paramsObject})=>{return dispatch(triggerPluginApi({namespacedId:id,instance:instanceCompat,method,paramsObject}));},instance,rgProps,fetching,renderWrapper,namespace,disabled}));const shouldRenderWrapper=!(type.includes('RNFab')||type.includes('RNIcon'));if(shouldRenderWrapper){return renderWrapper((0,jsx_runtime.jsx)(Component,connectMobileWidget_objectSpread({},props)));}else{return (0,jsx_runtime.jsx)(Component,connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},props),{},{renderWrapper:renderWrapper}));}};RetoolWidget.displayName=`${type}(${Component.displayName||Component.name||'Component'})`;return (0,react.memo)(withWidgetErrorBoundary(type,RetoolWidget),(lodash_default()).isEqual);}

/***/ }),

/***/ 725590:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createFileFromBase64: () => (/* binding */ createFileFromBase64),
/* harmony export */   createFileFromUri: () => (/* binding */ createFileFromUri),
/* harmony export */   fetchPolyfill: () => (/* binding */ fetchPolyfill)
/* harmony export */ });
async function createFileFromUri(uri,filename,type){const res=await fetch(uri);const blob=await res.blob();const file=new File([blob],filename,{type});return file;}const createFileFromBase64=createFileFromUri;const fetchPolyfill=window.fetch;

/***/ }),

/***/ 819121:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  CryptoDigestAlgorithm: () => (/* reexport */ CryptoDigestAlgorithm),
  CryptoEncoding: () => (/* reexport */ CryptoEncoding),
  digest: () => (/* binding */ digest),
  digestStringAsync: () => (/* binding */ digestStringAsync),
  getRandomBytes: () => (/* binding */ getRandomBytes),
  getRandomBytesAsync: () => (/* binding */ getRandomBytesAsync),
  getRandomValues: () => (/* binding */ getRandomValues),
  randomUUID: () => (/* binding */ randomUUID)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js
var base64_js = __webpack_require__(95793);
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/UnavailabilityError.js
var UnavailabilityError = __webpack_require__(200222);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-crypto@13.0.2_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0.1.13__vqcljm6j2dwnd7scuccmt4gr7a/node_modules/expo-crypto/build/Crypto.types.js
var CryptoDigestAlgorithm;(function(CryptoDigestAlgorithm){CryptoDigestAlgorithm["SHA1"]="SHA-1";CryptoDigestAlgorithm["SHA256"]="SHA-256";CryptoDigestAlgorithm["SHA384"]="SHA-384";CryptoDigestAlgorithm["SHA512"]="SHA-512";CryptoDigestAlgorithm["MD2"]="MD2";CryptoDigestAlgorithm["MD4"]="MD4";CryptoDigestAlgorithm["MD5"]="MD5";})(CryptoDigestAlgorithm||(CryptoDigestAlgorithm={}));var CryptoEncoding;(function(CryptoEncoding){CryptoEncoding["HEX"]="hex";CryptoEncoding["BASE64"]="base64";})(CryptoEncoding||(CryptoEncoding={}));
// EXTERNAL MODULE: ../node_modules/.pnpm/expo-modules-core@1.12.19_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@7.24.8_@ba_wlv3coyyw7r2lykekkjmjlf5mi/node_modules/expo-modules-core/build/errors/CodedError.js
var CodedError = __webpack_require__(836261);
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-crypto@13.0.2_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0.1.13__vqcljm6j2dwnd7scuccmt4gr7a/node_modules/expo-crypto/build/ExpoCrypto.web.js
const getCrypto=()=>{var _window$crypto;return(_window$crypto=window.crypto)!==null&&_window$crypto!==void 0?_window$crypto:window.msCrypto;};/* harmony default export */ const ExpoCrypto_web = ({async digestStringAsync(algorithm,data,options){if(!crypto.subtle){throw new CodedError.CodedError('ERR_CRYPTO_UNAVAILABLE','Access to the WebCrypto API is restricted to secure origins (localhost/https).');}const encoder=new TextEncoder();const buffer=encoder.encode(data);const hashedData=await crypto.subtle.digest(algorithm,buffer);if(options.encoding===CryptoEncoding.HEX){return hexString(hashedData);}else if(options.encoding===CryptoEncoding.BASE64){return btoa(String.fromCharCode(...new Uint8Array(hashedData)));}throw new CodedError.CodedError('ERR_CRYPTO_DIGEST','Invalid encoding type provided.');},getRandomBytes(length){const array=new Uint8Array(length);return getCrypto().getRandomValues(array);},async getRandomBytesAsync(length){const array=new Uint8Array(length);return getCrypto().getRandomValues(array);},getRandomValues(typedArray){return getCrypto().getRandomValues(typedArray);},randomUUID(){return getCrypto().randomUUID();},digestAsync(algorithm,data){return getCrypto().subtle.digest(algorithm,data);}});function hexString(buffer){const byteArray=new Uint8Array(buffer);const hexCodes=[...byteArray].map(value=>{const hexCode=value.toString(16);const paddedHexCode=hexCode.padStart(2,'0');return paddedHexCode;});return hexCodes.join('');}
;// CONCATENATED MODULE: ../node_modules/.pnpm/expo-crypto@13.0.2_expo@51.0.21_@babel+preset-env@7.24.8_@babel+core@7.24.9__encoding@0.1.13__vqcljm6j2dwnd7scuccmt4gr7a/node_modules/expo-crypto/build/Crypto.js
class CryptoError extends TypeError{code='ERR_CRYPTO';constructor(message){super(`expo-crypto: ${message}`);}}function getRandomBytes(byteCount){assertByteCount(byteCount,'getRandomBytes');const validByteCount=Math.floor(byteCount);if(false){}if(ExpoCrypto_web.getRandomValues){const byteArray=new Uint8Array(validByteCount);ExpoCrypto_web.getRandomValues(byteArray);return byteArray;}else if(ExpoCrypto_web.getRandomBase64String){const base64=ExpoCrypto_web.getRandomBase64String(validByteCount);return (0,base64_js.toByteArray)(base64);}else{throw new UnavailabilityError.UnavailabilityError('expo-crypto','getRandomBytes');}}async function getRandomBytesAsync(byteCount){assertByteCount(byteCount,'getRandomBytesAsync');const validByteCount=Math.floor(byteCount);if(ExpoCrypto_web.getRandomValues){const byteArray=new Uint8Array(validByteCount);ExpoCrypto_web.getRandomValues(byteArray);return byteArray;}else if(ExpoCrypto_web.getRandomBase64StringAsync){const base64=await ExpoCrypto_web.getRandomBase64StringAsync(validByteCount);return (0,base64_js.toByteArray)(base64);}else{throw new UnavailabilityError.UnavailabilityError('expo-crypto','getRandomBytesAsync');}}function assertByteCount(value,methodName){if(typeof value!=='number'||isNaN(value)||Math.floor(value)<0||Math.floor(value)>1024){throw new TypeError(`expo-crypto: ${methodName}(${value}) expected a valid number from range 0...1024`);}}function assertAlgorithm(algorithm){if(!Object.values(CryptoDigestAlgorithm).includes(algorithm)){throw new CryptoError(`Invalid algorithm provided. Expected one of: CryptoDigestAlgorithm.${Object.keys(CryptoDigestAlgorithm).join(', AlgCryptoDigestAlgorithmorithm.')}`);}}function assertData(data){if(typeof data!=='string'){throw new CryptoError(`Invalid data provided. Expected a string.`);}}function assertEncoding(encoding){if(!Object.values(CryptoEncoding).includes(encoding)){throw new CryptoError(`Invalid encoding provided. Expected one of: CryptoEncoding.${Object.keys(CryptoEncoding).join(', CryptoEncoding.')}`);}}async function digestStringAsync(algorithm,data,options={encoding:CryptoEncoding.HEX}){if(!ExpoCrypto_web.digestStringAsync){throw new UnavailabilityError.UnavailabilityError('expo-crypto','digestStringAsync');}assertAlgorithm(algorithm);assertData(data);assertEncoding(options.encoding);return await ExpoCrypto_web.digestStringAsync(algorithm,data,options);}function getRandomValues(typedArray){ExpoCrypto_web.getRandomValues(typedArray);return typedArray;}function randomUUID(){return ExpoCrypto_web.randomUUID();}const digestLengths={[CryptoDigestAlgorithm.SHA1]:20,[CryptoDigestAlgorithm.SHA256]:32,[CryptoDigestAlgorithm.SHA384]:48,[CryptoDigestAlgorithm.SHA512]:64,[CryptoDigestAlgorithm.MD2]:16,[CryptoDigestAlgorithm.MD4]:16,[CryptoDigestAlgorithm.MD5]:16};function digest(algorithm,data){return new Promise((resolve,reject)=>{try{if(typeof ExpoCrypto_web.digestAsync==='function'){resolve(ExpoCrypto_web.digestAsync(algorithm,data));}else{const output=new Uint8Array(digestLengths[algorithm]);ExpoCrypto_web.digest(algorithm,output,data);resolve(output.buffer);}}catch(error){reject(error);}});}

/***/ })

}])
//# sourceMappingURL=3786.4f58989e.chunk.js.map