(self["webpackChunkwebpack_mobile"] = self["webpackChunkwebpack_mobile"] || []).push([[8443],{

/***/ 320941:
/***/ ((module) => {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABfSURBVHgB7c/BCcAwCIXhRyfICI7QEd2wI3SEdgNrwIYcvCTmFPxBkBw+DDCYiJDOpXPrnIhkWIX+GLM5WN0JMyW2E2YgR7DDeXu7vSCaXlSWftlQSjTRFiNahz7ehR+FEYcM5fgChwAAAABJRU5ErkJggg==";

/***/ }),

/***/ 981178:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(985707);
const DisabledByContainerContext=(0,_retool_builder_retool_development_mobile_node_modules_react__WEBPACK_IMPORTED_MODULE_0__.createContext)(false);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisabledByContainerContext);

/***/ }),

/***/ 513573:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ maybeConvertBase64EncodedImage)
/* harmony export */ });
function maybeConvertBase64EncodedImage(maybeBase64Encoded){if(/^[A-Za-z0-9+/]+={0,2}$/i.test(maybeBase64Encoded.substring(0,400000))){const maybeSVG=maybeBase64Encoded.startsWith('PD94');return`data:image/${maybeSVG?'svg+xml':''};base64,${maybeBase64Encoded}`;}return maybeBase64Encoded;}

/***/ }),

/***/ 428443:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ AnnotatedImageWidget)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(961639);
// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(421565);
// EXTERNAL MODULE: ../packages/runtimeShared/plugins/registry.ts + 28 modules
var registry = __webpack_require__(730223);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/AnnotatedImage/template.ts
/* harmony default export */ const template = ({markers:'array',imageSrc:'string',selectedIndex:'number?'});
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/widgets/AnnotatedImage/widgetRuntimeOptions.ts
/* harmony default export */ const widgetRuntimeOptions = ((0,registry.registerV2)({typeKey:'RNAnnotatedImageWidget',name:'Annotated Image',template: template,events:['add','select','delete']}));
// EXTERNAL MODULE: ./src/components/plugins/widgets/connectMobileWidget.tsx + 9 modules
var connectMobileWidget = __webpack_require__(360062);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(985707);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Image/index.js + 2 modules
var Image = __webpack_require__(356216);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/View/index.js
var View = __webpack_require__(130486);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-gesture-handler@2.16.2_react-native@0.74.3_@babel+core@7.24.9_@babel+preset-env@_ojc4u62nsuvor5deb6zm6h7t4u/node_modules/react-native-gesture-handler/lib/module/index.js + 102 modules
var lib_module = __webpack_require__(241658);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/components/utils/maybeConvertBase64EncodedImage.ts
var maybeConvertBase64EncodedImage = __webpack_require__(513573);
// EXTERNAL MODULE: ./src/toolbox/Box/index.tsx + 3 modules
var Box = __webpack_require__(6814);
// EXTERNAL MODULE: ./src/toolbox/Shimmer/index.tsx
var Shimmer = __webpack_require__(509039);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Pressable/index.js + 4 modules
var Pressable = __webpack_require__(770665);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(460648);
// EXTERNAL MODULE: ../frontend/src/common/platform.ts + 1 modules
var platform = __webpack_require__(555522);
// EXTERNAL MODULE: ./src/toolbox/Fab/index.tsx + 1 modules
var Fab = __webpack_require__(249244);
// EXTERNAL MODULE: ./src/toolbox/Icon/Icon.tsx + 3683 modules
var Icon = __webpack_require__(312220);
// EXTERNAL MODULE: ./src/toolbox/Modal/index.tsx + 4 modules
var Modal = __webpack_require__(772966);
// EXTERNAL MODULE: ./src/utilities/colors.ts
var colors = __webpack_require__(240664);
// EXTERNAL MODULE: ./src/utilities/theme.ts
var utilities_theme = __webpack_require__(690059);
// EXTERNAL MODULE: ./src/utilities/useIsScreenPortrait.ts
var useIsScreenPortrait = __webpack_require__(424194);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Animated/index.js + 39 modules
var Animated = __webpack_require__(939077);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/TouchableOpacity/index.js
var TouchableOpacity = __webpack_require__(236127);
// EXTERNAL MODULE: ../frontend/src/retoolColors.ts
var retoolColors = __webpack_require__(928141);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/PanScrollableImagePreview/PanScrollableMathHelpers.ts
const getImageSizeByViewInset=(inset,view)=>({width:view.width-inset.x*2,height:view.height-inset.y*2});const getTranslationForCenteredImage=(image,view)=>{return{x:(view.width-image.width)/2,y:(view.height-image.height)/2};};const getDistanceBetweenTouches=touches=>{const[a,b]=touches;if(a==null||b==null){return 0;}return getDistanceBetweenPoints({x:a.pageX,y:a.pageY},{x:b.pageX,y:b.pageY});};const getDistanceBetweenPoints=(a,b)=>{return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2));};const getAspectFitSize=(image,view)=>{const aspectSize={width:view.width,height:view.height};const widthRatio=view.width/image.width;const heightRatio=view.height/image.height;let scale=widthRatio||1;if(heightRatio<widthRatio){scale=heightRatio;aspectSize.width=heightRatio*image.width;}else if(widthRatio<heightRatio){scale=widthRatio;aspectSize.height=widthRatio*image.height;}return{scale,aspectSize};};
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-reanimated@3.10.1_@babel+core@7.24.9_react-native@0.74.3_@babel+core@7.24.9_@bab_jaytkrnv5d2i32v3hvbtsbg7cq/node_modules/react-native-reanimated/lib/module/reanimated2/Easing.js + 1 modules
var Easing = __webpack_require__(997200);
// EXTERNAL MODULE: ../frontend/src/common/hooks/useWindowDimensions.ts
var useWindowDimensions = __webpack_require__(625757);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/PanResponder/index.js + 2 modules
var PanResponder = __webpack_require__(353264);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/PanScrollableImagePreview/PanScrollableGestureHelpers.ts
const createPanResponder=({onGrant,onStart,onMove,onRelease,onTerminate})=>PanResponder["default"].create({onStartShouldSetPanResponder:()=>true,onStartShouldSetPanResponderCapture:()=>true,onMoveShouldSetPanResponder:()=>true,onMoveShouldSetPanResponderCapture:()=>true,onPanResponderGrant:onGrant,onPanResponderStart:onStart,onPanResponderMove:onMove,onPanResponderRelease:onRelease,onPanResponderTerminate:onTerminate,onPanResponderTerminationRequest:()=>false,onShouldBlockNativeResponder:()=>false});
;// CONCATENATED MODULE: ./src/components/plugins/widgets/ImageInput/PanScrollableImagePreview/usePanResponder.ts
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const DOUBLE_TAP_DELAY=200;const PRESS_MOVEMENT_THRESHOLD=10;const OUT_BOUND_MULTIPLIER=0.75;function getEffectiveScale(element){const rect=element.getBoundingClientRect();const clientWidth=element.clientWidth;const clientHeight=element.clientHeight;const scaleX=rect.width/clientWidth;const scaleY=rect.height/clientHeight;return{scaleX,scaleY};}const usePanResponder=({currentScale,maxScale,naturalInset,currentInset,viewSize:size,onPress})=>{const initialScale=1;const[screenWidth,screenHeight]=(0,useWindowDimensions["default"])();const viewSize=size!==null&&size!==void 0?size:{width:screenWidth,height:screenHeight};const currentTranslation=(0,react.useRef)(_objectSpread({},currentInset));let pressTouchDown={touchBegan:false};let numberInitialTouches=1;let initialTouches=[];let tmpScale=0;let tmpTranslate=null;let isDoubleTapPerformed=false;let lastTapTS=null;const scaleValue=new Animated["default"].Value(currentScale);const translateValue=new Animated["default"].ValueXY(currentScale===initialScale?_objectSpread({},naturalInset):currentInset);let isAnimatingTranslation=false;translateValue.addListener(value=>{if(isAnimatingTranslation){currentTranslation.current.x=value.x;currentTranslation.current.y=value.y;}});const emptyAnimValue=new Animated["default"].Value(0);const emptyAnim=Animated["default"].timing(emptyAnimValue,{toValue:0,useNativeDriver:true});const imageDimensions=getImageSizeByViewInset(naturalInset,viewSize);const getBounds=scale=>{const scaledImageDimensions={width:imageDimensions.width*scale,height:imageDimensions.height*scale};const translateDelta=getTranslationForCenteredImage(scaledImageDimensions,viewSize);const left=naturalInset.x-translateDelta.x;const right=left-(scaledImageDimensions.width-viewSize.width);const top=naturalInset.y-translateDelta.y;const bottom=top-(scaledImageDimensions.height-viewSize.height);return[top,left,bottom,right];};const getTranslateInBounds=(translate,scale)=>{const inBoundTranslate={x:translate.x,y:translate.y};const[topBound,leftBound,bottomBound,rightBound]=getBounds(scale);if(translate.x>leftBound){inBoundTranslate.x=leftBound;}else if(translate.x<rightBound){inBoundTranslate.x=rightBound;}if(translate.y>topBound){inBoundTranslate.y=topBound;}else if(translate.y<bottomBound){inBoundTranslate.y=bottomBound;}return inBoundTranslate;};const fitsScreenByWidth=()=>imageDimensions.width*currentScale<viewSize.width;const fitsScreenByHeight=()=>imageDimensions.height*currentScale<viewSize.height;const handleMaybePress=event=>{if(onPress!=null){const crd=(()=>{const rawCrd={x:event.nativeEvent.locationX,y:event.nativeEvent.locationY};if(platform.PLATFORM==='web'){const target=event.nativeEvent.target;if(!(target instanceof HTMLElement)){return rawCrd;}const{scaleX,scaleY}=getEffectiveScale(target);return{x:rawCrd.x/scaleX,y:rawCrd.y/scaleY};}else{return rawCrd;}})();pressTouchDown={touchBegan:true,crd};setTimeout(()=>{if(pressTouchDown.touchBegan&&pressTouchDown.crd!=null){const pixelCrdX=pressTouchDown.crd.x;const pixelCrdY=pressTouchDown.crd.y;if(platform.PLATFORM==='web'){const imageCrdX=pixelCrdX*(maxScale/currentScale);const imageCrdY=pixelCrdY*(maxScale/currentScale);const ratioCrdX=imageCrdX/(imageDimensions.width*maxScale);const ratioCrdY=imageCrdY/(imageDimensions.height*maxScale);onPress===null||onPress===void 0?void 0:onPress({x:ratioCrdX,y:ratioCrdY});}else{const ratioCrdX=pixelCrdX/imageDimensions.width;const ratioCrdY=pixelCrdY/imageDimensions.height;onPress===null||onPress===void 0?void 0:onPress({x:ratioCrdX,y:ratioCrdY});}}},DOUBLE_TAP_DELAY);}};const clearPress=()=>{pressTouchDown.touchBegan=false;pressTouchDown.crd=null;};const handlers={onGrant:(_,gestureState)=>{numberInitialTouches=gestureState.numberActiveTouches;},onStart:(event,gestureState)=>{initialTouches=event.nativeEvent.touches;numberInitialTouches=gestureState.numberActiveTouches;if(gestureState.numberActiveTouches>1)return;const{locationX:touchX,locationY:touchY}=event.nativeEvent.touches[0];handleMaybePress(event);const tapTS=Date.now();isDoubleTapPerformed=Boolean(lastTapTS&&tapTS-lastTapTS<DOUBLE_TAP_DELAY);if(isDoubleTapPerformed){clearPress();const isScaled=currentScale!==initialScale;const targetScale=maxScale;const nextScale=isScaled?initialScale:targetScale;const nextTranslation=isScaled?_objectSpread({},naturalInset):getTranslateInBounds({x:currentInset.x+(viewSize.width/2-touchX)*(targetScale/currentScale),y:currentInset.y+(viewSize.height/2-touchY)*(targetScale/currentScale)},targetScale);isAnimatingTranslation=true;Animated["default"].parallel([Animated["default"].timing(translateValue.x,{toValue:nextTranslation.x,duration:300,useNativeDriver:true}),Animated["default"].timing(translateValue.y,{toValue:nextTranslation.y,duration:300,useNativeDriver:true}),Animated["default"].timing(scaleValue,{toValue:nextScale,duration:300,useNativeDriver:true})],{stopTogether:false}).start(()=>{currentScale=nextScale;currentTranslation.current=nextTranslation;isAnimatingTranslation=false;});lastTapTS=null;}else{lastTapTS=Date.now();}},onMove:(event,gestureState)=>{if(isAnimatingTranslation){return;}if(numberInitialTouches===1&&gestureState.numberActiveTouches===2){numberInitialTouches=2;initialTouches=event.nativeEvent.touches;clearPress();}const isPanGesture=numberInitialTouches===1&&gestureState.numberActiveTouches===1;const isPinchGesture=numberInitialTouches===2&&gestureState.numberActiveTouches===2;if(isPinchGesture){const initialDistance=getDistanceBetweenTouches(initialTouches);const currentDistance=getDistanceBetweenTouches(event.nativeEvent.touches);let nextScale=currentDistance/initialDistance*currentScale;if(nextScale<initialScale){nextScale=nextScale+(initialScale-nextScale)*OUT_BOUND_MULTIPLIER;}if(currentScale>initialScale&&currentScale>nextScale){const k=(currentScale-initialScale)/(currentScale-nextScale);const nextTranslateX=nextScale<initialScale?currentInset.x:currentTranslation.current.x-(currentTranslation.current.x-currentInset.x)/k;const nextTranslateY=nextScale<initialScale?currentInset.y:currentTranslation.current.y-(currentTranslation.current.y-currentInset.y)/k;translateValue.x.setValue(nextTranslateX);translateValue.y.setValue(nextTranslateY);tmpTranslate={x:nextTranslateX,y:nextTranslateY};}scaleValue.setValue(nextScale);tmpScale=nextScale;}if(isPanGesture){const{x,y}=currentTranslation.current;const{dx,dy}=gestureState;const hasMovedWeb=()=>{return pressTouchDown.crd!=null&&getDistanceBetweenPoints({x:pressTouchDown.crd.x,y:pressTouchDown.crd.y},{x,y})>PRESS_MOVEMENT_THRESHOLD;};const hasMovedNative=()=>{return dx>PRESS_MOVEMENT_THRESHOLD||dy>PRESS_MOVEMENT_THRESHOLD;};if(platform.PLATFORM==='web'?hasMovedWeb():hasMovedNative()){clearPress();}if(currentScale>initialScale){const[topBound,leftBound,bottomBound,rightBound]=getBounds(currentScale);let nextTranslateX=x+dx;let nextTranslateY=y+dy;if(nextTranslateX>leftBound){nextTranslateX=nextTranslateX-(nextTranslateX-leftBound)*OUT_BOUND_MULTIPLIER;}if(nextTranslateX<rightBound){nextTranslateX=nextTranslateX-(nextTranslateX-rightBound)*OUT_BOUND_MULTIPLIER;}if(nextTranslateY>topBound){nextTranslateY=nextTranslateY-(nextTranslateY-topBound)*OUT_BOUND_MULTIPLIER;}if(nextTranslateY<bottomBound){nextTranslateY=nextTranslateY-(nextTranslateY-bottomBound)*OUT_BOUND_MULTIPLIER;}if(fitsScreenByWidth()){nextTranslateX=x;}if(fitsScreenByHeight()){nextTranslateY=y;}translateValue.x.setValue(nextTranslateX);translateValue.y.setValue(nextTranslateY);tmpTranslate={x:nextTranslateX,y:nextTranslateY};}}},onRelease:(_,gestureState)=>{if(isDoubleTapPerformed){isDoubleTapPerformed=false;}if(tmpScale>0){if(tmpScale<initialScale||tmpScale>maxScale){tmpScale=tmpScale<initialScale?initialScale:maxScale;Animated["default"].timing(scaleValue,{toValue:tmpScale,duration:100,useNativeDriver:true}).start();}currentScale=tmpScale;tmpScale=0;}if(tmpTranslate){const{x,y}=tmpTranslate;const[topBound,leftBound,bottomBound,rightBound]=getBounds(currentScale);let nextTranslateX=x;let nextTranslateY=y;let reboundX=false;let reboundY=false;if(!fitsScreenByWidth()){if(nextTranslateX>leftBound){nextTranslateX=leftBound;reboundX=true;}else if(nextTranslateX<rightBound){nextTranslateX=rightBound;reboundX=true;}}if(!fitsScreenByHeight()){if(nextTranslateY>topBound){nextTranslateY=topBound;reboundY=true;}else if(nextTranslateY<bottomBound){nextTranslateY=bottomBound;reboundY=true;}}isAnimatingTranslation=true;Animated["default"].sequence([Animated["default"].parallel([Animated["default"].decay(translateValue.x,{velocity:gestureState.vx,deceleration:0.97,useNativeDriver:true}),Animated["default"].decay(translateValue.y,{velocity:gestureState.vy,deceleration:0.97,useNativeDriver:true})]),Animated["default"].parallel([reboundX?Animated["default"].timing(translateValue.x,{toValue:nextTranslateX,duration:100,easing:Easing.Easing.bounce,useNativeDriver:true}):emptyAnim,reboundY?Animated["default"].timing(translateValue.y,{toValue:reboundY?nextTranslateY:translateValue.y,duration:100,easing:Easing.Easing.bounce,useNativeDriver:true}):emptyAnim])]).start(_=>{isAnimatingTranslation=false;});currentTranslation.current={x:nextTranslateX,y:nextTranslateY};tmpTranslate=null;}}};const panResponder=createPanResponder(handlers);return[panResponder.panHandlers,scaleValue,translateValue];};
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(453175);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/AnnotatedImage/MarkableImagePreview.tsx
function MarkableImagePreview_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function MarkableImagePreview_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?MarkableImagePreview_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):MarkableImagePreview_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const MARKER_SIZE=18;const BORDER_WIDTH=3;const SELECTED_MARKER_SIZE=MARKER_SIZE+2*BORDER_WIDTH;const styles=StyleSheet["default"].create({container:{overflow:'hidden'},marker:{height:MARKER_SIZE,width:MARKER_SIZE,position:'absolute',borderRadius:MARKER_SIZE/2,backgroundColor:colors.textDark},selectedMarker:{height:SELECTED_MARKER_SIZE,width:SELECTED_MARKER_SIZE,borderRadius:SELECTED_MARKER_SIZE/2,backgroundColor:colors.linkBlue,borderColor:retoolColors.white,borderWidth:BORDER_WIDTH}});const getImageStyles=(view,translate,scale)=>{const transform=translate.getTranslateTransform();if(scale){transform.push({scale},{perspective:new Animated["default"].Value(1000)});}return{width:view.width,height:view.height,transform};};const MarkableImagePreview=({photoUri,size,markers,markerSelectDisabled,style,selectedIndex,onImageLoad,onPress,onMarkerSelect})=>{const fallbackAspectRatio=4/3;const[viewSize,setViewSize]=(0,react.useState)({width:0,height:0});const{scale,aspectSize}=getAspectFitSize(size,viewSize);const naturalInset={x:(viewSize.width-aspectSize.width)/2,y:(viewSize.height-aspectSize.height)/2};const maxScale=Math.max(1/(scale!==null&&scale!==void 0?scale:0.5),2);const scaleRef=(0,react.useRef)(1);const transRef=(0,react.useRef)(naturalInset);const aspectRatio=aspectSize.width/aspectSize.height||fallbackAspectRatio;const[panHandlers,scaleValue,translateValue]=usePanResponder({currentScale:scaleRef.current,maxScale,currentInset:transRef.current,naturalInset,viewSize,onPress});scaleValue.addListener(value=>{scaleRef.current=value.value;});translateValue.addListener(value=>{transRef.current={x:value.x,y:value.y};});const imageStyles=getImageStyles(aspectSize,translateValue,scaleValue);const inverseScale=Animated["default"].divide(1,scaleValue);const AnimatedTouchable=Animated["default"].createAnimatedComponent(TouchableOpacity["default"]);return (0,jsx_runtime.jsx)(View["default"],{style:[style,styles.container],onLayout:event=>{const{width,height}=event.nativeEvent.layout;setViewSize({width,height});},children:(0,jsx_runtime.jsxs)(Animated["default"].View,{style:[imageStyles],children:[(0,jsx_runtime.jsx)(Animated["default"].Image,MarkableImagePreview_objectSpread(MarkableImagePreview_objectSpread({},panHandlers),{},{source:{uri:photoUri},onLoad:()=>{onImageLoad===null||onImageLoad===void 0?void 0:onImageLoad();},style:[{aspectRatio,backgroundColor:colors.nearBlack}]})),markers.map((crd,index)=>{const markerSize=index===selectedIndex?SELECTED_MARKER_SIZE:MARKER_SIZE;return (0,jsx_runtime.jsx)(AnimatedTouchable,{disabled:markerSelectDisabled,onPress:()=>{onMarkerSelect===null||onMarkerSelect===void 0?void 0:onMarkerSelect(index);},style:[styles.marker,{top:crd.y*(size.height*scale)-markerSize/2,left:crd.x*(size.width*scale)-markerSize/2,transform:[{scale:inverseScale}]},index===selectedIndex&&styles.selectedMarker],hitSlop:{top:10,bottom:10,left:10,right:10}},index);})]})});};/* harmony default export */ const AnnotatedImage_MarkableImagePreview = (MarkableImagePreview);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/AnnotatedImage/AnnotatedImageModal.tsx
const AnnotatedImageModal_styles=StyleSheet["default"].create({topButtonBox:{paddingHorizontal:24,flexDirection:'row',justifyContent:'space-between',alignContent:'center',backgroundColor:'#0D0D0D99',paddingBottom:8},backButton:{height:24,width:24},backButtonLandscape:{margin:16},textButton:{color:'white',fontSize:17,lineHeight:22},buttonDownState:{opacity:0.75},topPadding:{paddingTop:'10%'},topPaddingiOS:{paddingTop:60},fabContainer:{bottom:25,right:25}});const AnnotatedImageModal=({srcUrl,imageWidth,imageHeight,markers,selectedIndex:modelSelectedIndex,onAdd,onSelect,updateModel,onDismiss})=>{const imageSize={width:imageWidth,height:imageHeight};const theme=(0,react.useContext)(utilities_theme["default"]);const isScreenPortrait=(0,useIsScreenPortrait["default"])();const shouldAddTopPaddingWeb=platform.PLATFORM==='web'&&isScreenPortrait;const shouldAddTopPaddingIos=platform.PLATFORM==='ios'&&isScreenPortrait;const[currentMarkers,setCurrentMarkers]=(0,react.useState)(markers);const[selectedIndex,setSelectedIndex]=(0,react.useState)(modelSelectedIndex);const[isEditing,setIsEditing]=(0,react.useState)(false);const onFabPress=(0,react.useCallback)(()=>{setIsEditing(!isEditing);},[isEditing]);const onPress=(0,react.useCallback)(location=>{if(!isEditing){return;}const markers=[...currentMarkers];markers.push(location);onAdd===null||onAdd===void 0?void 0:onAdd(markers);setCurrentMarkers(markers);},[isEditing,currentMarkers,onAdd]);const onMarkerSelect=(0,react.useCallback)(index=>{updateModel({selectedIndex:index});onSelect===null||onSelect===void 0?void 0:onSelect();setSelectedIndex(index);},[updateModel,onSelect]);return (0,jsx_runtime.jsxs)(Modal.Modal,{children:[(0,jsx_runtime.jsx)(View["default"],{style:[StyleSheet["default"].absoluteFill,{backgroundColor:colors.nearBlack}],children:(0,jsx_runtime.jsx)(AnnotatedImage_MarkableImagePreview,{photoUri:srcUrl,size:imageSize,markers:currentMarkers,style:{flex:1},selectedIndex:selectedIndex,markerSelectDisabled:isEditing,onPress:crd=>{onPress(crd);},onMarkerSelect:index=>{onMarkerSelect(index);}})}),(0,jsx_runtime.jsx)(View["default"],{style:[AnnotatedImageModal_styles.topButtonBox,shouldAddTopPaddingWeb?AnnotatedImageModal_styles.topPadding:null,shouldAddTopPaddingIos?AnnotatedImageModal_styles.topPaddingiOS:null],children:(0,jsx_runtime.jsx)(Pressable["default"],{onPress:onDismiss,style:({pressed})=>[pressed&&AnnotatedImageModal_styles.buttonDownState,AnnotatedImageModal_styles.backButton,isScreenPortrait===false&&AnnotatedImageModal_styles.backButtonLandscape],hitSlop:30,children:(0,jsx_runtime.jsx)(Image["default"],{source:__webpack_require__(320941),style:[{tintColor:'white',width:20,height:20}]})})}),(0,jsx_runtime.jsx)(Box.Box,{position:"absolute",className:AnnotatedImageModal_styles.fabContainer,children:(0,jsx_runtime.jsx)(Fab.Fab,{onPress:onFabPress,label:isEditing?(0,jsx_runtime.jsx)(View["default"],{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'},children:(0,jsx_runtime.jsx)(Icon.Icon,{name:"bold/interface-validation-check",color:theme.primaryText,size:18})}):(0,jsx_runtime.jsx)(View["default"],{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'},children:(0,jsx_runtime.jsx)(Icon.Icon,{name:"bold/interface-add-1",color:theme.primaryText,size:18})}),backgroundColor:theme.primary})})]});};
;// CONCATENATED MODULE: ./src/components/plugins/widgets/AnnotatedImage/AnnotatedImage.tsx
const defaultSrc='iVBORw0KGgoAAAANSUhEUgAABdwAAAXcCAMAAAAP67xWAAABAlBMVEXp7vG6vsHGy83m6+7b4OO7v8Lo7fDJzdDO0tW/w8bj6OvM0dTn7O+9wcS8wMPHy87k6ezg5ejZ3uHP1Nfb3+LN0dTKztHLz9Li5+rd4uXQ1Nfa3+LEyMvk6evl6u3FyczR1tm+wsXJztHX3N/AxMfGys3R1djBxcjh5unQ1djO09bM0NPCxsnP09bDx8rIzM/d4eTX297Y3N+/xMfe4uXGy87W2t3T2NvV2dzZ3eDU2dzc4eTKz9Lm6u3Axcjh5ejY3eDS1tnS19rHzM/W297L0NPU2Nva3uHe4+bf4+bV2t3i5unc4OPN0tXBxsnT19rf5OfEyczDyMvY3d/IzdDFys1FgAw6AAAV6klEQVR4XuzAMQEAAAzDoPlXvTsGesEFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAwAAAAAAAAAAAAAAAAAAAAAPLt2sNNEGEZh+PscOrVNB6lpkVRTqpKQEChEqsFNURcqLrj/y9EFKrBy6fz/81zEWbw5zebH2fl61GXP0W1f7S/eTduoHTCZPT3NsjA4XH1vo1rA5ONwkEWim2+iSsDBWZcF4/hrE7UBpvtZOnYXy6gJMH6RNWB3NYlaAO1qkJVg9DzqANzcZkUY7kX5gPZz1oXXsygdsHyf1WHRRtGA66OsEM+aKBhw0WWVOC04vAM7g6wUR+MoFLCT9WJU6LoDF4OsGNsiywxw3WXVWE+iOMDyMivHMEoDtE9sG1+iMMAqITdRFOAmIXPUREGA9jh/gXn8xwBRBmEGGN893GHdRimA/bwDb6MQwDR/g8tJlAF4k3/AhygCcJB/wbaNEgAneQ/MogDApMt74DwKAHzKB2Av+g84zwfgKnoPaAb5ABxG7wEv8xFoou+AeT4C36LvgNt8BE6i54Bl/rOf7MAxEQAACALAw80Ujmx0oX8ZK7h6x3PqsXDjSsve3e00EQYBGJ4Bdm2BYpcSSiLFkGKB6IEn9S8hMfHn/i9JjzVmv1IP9ts8zz3Mm8ycTFQOeF9a9g/zqBwPj7Ms0rRRN+BTFnlsYwSYv8wiD1E3YJIlvsc40C6zxKuoG/AtC2xiLGhfZ4EvUTfgXfa7b2M0uGqy3yLqBkwdZf7m79bbqBvQZL+bGBHOs9+LqBuQ/e5jTJhnv4OoGtBmvzcxJrTjjztwaNBta+IO4o64A+KOuAPijrgD4o64A+KOuPcAcUfcAXFH3AFxR9wBcUfcAXEvIe6AuCPugLgj7oC4I+6AuCPugLj3E3dA3BF3QNwRd0DcEXdA3BH3ciDuiDsg7og7IO6IOyDuiDsg7uXEHRB3xB0Q98PuaP1zs/ht83F91B1G1cQdEPf5+WJ7m3+43S7OV1EjcQfE/fRocpf/dDe5OI2qiDsg7u3F8ix7nC0v2qiFuAPivtpMs8j0cRU1EHdA3LsfTRZrll0MnbgD4n51mTu6vIohE3dA3J8mTe5uchODJe6AuK9n+SyzdQyTuAPifrzNZzs4jgESd0DcP89yD7OvMTTiDoh7e5J7OjmNQRF3QNzn17m361UMiLgD4t5N8z+YdrErxB34xd697LZ1JAEY7rJIhuSQFClLlmTLRuxcRolhzNheGL4MckMwi8Fskvd/l2RXQAAjicXT7NP8vof4F3X6VA0W9+tN7MXm36UR4g6I+2QaezKdFMS9AhD3Km1PTdRd3AFxv57GHk0bmMyIOyDuu03s1WZXDkzcAXHfLmLPFo/LQYk7IO6zm9i7X1blkMQdEPd/xACelwMSd0Dcv49BfF8ORtwBcV+uYxCbZTkUcQfE/V4M5KtyIOIOiPsXMZiX5SDEHRD3J+sYzPpJOQRxB8R9HgOalwMQd0Dcr2JQt6U+cQfE/VkM6lmpTtwBcd/FwHalNnEHxP0yBvahVCbugLgvpzGw6bLUJe6AuH8Tg3tYqhJ3QNxnT2NwT2elJnEHxP08KnhUahJ3QNwfRAUPSkXiDoj7ahMVbFalHnEHxP08ore5jLgD4n4RVVyUesQdEPfXUcWiVCPugLgvo5JlqUXcAXE/i0rellrEHRD3F1HJi1KLuAPifi8q+arUIu6AuK+jknUZi8mH2bjjDoj7SVTzn7G0fRqfzUYdd0Dcd1HNbjRtj6z7KOMOiPt5VPNoNG3Puo8z7oC4v4xqXo6l7Vn3kcYdEPc3Uc2bkbQ96z7WuAPi/jCSa0zZ9qz7COMOiPv9qOb+WNqedR9p3AFx/zaqmY+h7RXqLu6AuFdue4W6iztgLFO57RXqLu6AD6qV216h7uIOeApZue0V6i7ugJ+YKre9Qt3FHbB+oHLb69Rd3AGLw+q3vX7dxR2w8rd+27Pu4t4+EPf0NCpZt9z2CnUXd8CZvVbannUfVdwBcb8flbwYZduz7mOKOyDuZ1HJ2TjbnnUfUdwBcX8clSxH2vasu7g3D8Q9fRlVvB5t27Pu44k7IO7/jyouxtv2rPto4g6I+3lUcT76tmfd2487IO6rTVSwWY2+7Vn39uMOiHv5EBU86KDtWff24w6I+3lU8KiDtmfd2487IO6zRQzu6ayDtmfd2487IO7l6xjcN120PeveftwBcX88jYFNl120PeveftwBcS8/x8AuO2l71r39uAPivouB7fpoe9Zd3JsD4l7/NeSzbtqedW8/7oC4X01jSFfdtD3r3n7cAXEv8xjQvKO2Z93bjzsg7ifrGMz6SU9tz7o3H3dA3MurGMwXfbU969583AFxL6cxkHu9tT3r3nzcAXFfrmMQ62V3bc+6i3sbQNzrH1N922Hbs+6txx0Q93IRA7josu1Z99bjDoj77Cb27mbWZ9uz7o3HHRD3sl3Eni22vbY969543AFxL7tN7NVm12/bs+6Nxx0Q93K91wROr3tue9Zd3BsA4l4tgtNJ323Puot7VSDuFTKo7Vn3ZuMOiHu53sRebI5gJpN1bzzugLiX7xaxB4vdMbQ969543AFxL9ubuLOb7XG0PeveeNwBcS+zi7iji9mxtD3r3mjcAXFPZ+u4g/VZOZ62Z91bjzsg7uXxaXyy0+VRtT3r3mrcAXFPv67jk6xflSNre9a9+bgD4l5OXnxCGaffnhxf27PuzcYdEPd0dRl/0+VVOca2Z93bjTsg7ul/z/9GH6fPb8uRtj3r3nDcAXFP288X8ZcsPt+W42171r3luAPinmaTy038ic3lZFa0PevebNwBcU+ryfyf8VFfzierUrQ969543AFxT9tHD39axB8sTh/+d1uStmfdG487IO5pdfv+1bsf7//ux3ev3t+uStL2rLu4VwDiXom2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWfZxxB8T9h6W2f9y/VmOMOyDu81gstf3jTlfjizsg7vOIrLu236Hu7cQdEPd5RNZd2+9Q93biDoj7PCLrru13qHs7cQfEfR6Rddf2O9S9nbgD4j6PlHVP2p51H0PcAXHPtmfdtf0v113cgZPf2Kmjk7ACIAiAeZqAmkAgWI1N2H83+dwC9uOOY6aIWZp7bs/ubu93l3uA3Edvz+5u73eXe4DcZ2/P7m6vd5d7gNyHb8/ubm93l3uA3Kdvz+5uL3eXe4Dcx2/P7m7vdpd7gNznb8/ubu92l3uA3Odvz+7d7XaXe4Dc52/P7sXtdpd7gNxHb+93z+12l3uA3Dfdnt3D7fFT7gWQ+9zt2d3tcu+B3Odvz+7rb5c7IPfcXuzudrk3QO7zt2d3t8u9B3Kfvz27L79d7oDcc3u/+/ztcgfkntur3d0u9x7Iff727O52ufdA7vO3Z/e9t8sdkHtu73efv13ugNxze7+72+XeA7nP357d3S73Hsh9/vbsvux2uQNyz+397vO3yx2Qe26vd991u9wBuef2fvf52+UOyD2397tvuV3ugNxze7+72+VeALnvuz27x2d/u9wBuQ/ent3j39OTOyD3wduzu9vlXgC5L7s9u7td7gWQ+7Lbs7vb5V4AuS+7Pbu7Xe4FkPuy27O72+VeALmvuj3ev54BcgfkntuR+2Ygd7fLHZC72+W+H8jd7XIH5O52ue8Hcne73AG5u13u+4Hc3S53QO5ul/t+IHe3yx2Qu9vlvh/I3e1yB+TudrnvB3J3u9wBubtd7vuB3N0ud0Dubpf7fiB3t8sdkLvb5b4fyN3tcgfk7na57wdyd7vcAbm7Xe77gdzdLndA7m6X+34gd7fLHZC72+W+H8jd7XIH5O52ue8Hcne73AG5u13u+4Hc3S53QO5ul/sBIHe3y/0AkLvb5X4ByN3tcj8I5O52uR8Ecne73A8Cubtd7geB3N0u94NA7m6X+0Egd7fL/SqQu9vlfh/I/f7tcgfk/v2cI3dA7r8f5A7I/Qq5A3JH7oDckTsgd+QOyL0nd0DuyB2QO3IH5I7cAbn35A7IHbkDckfugNyROyD3ntwBuSN3QO7IHZA7cgfk3pM7IHfkDsgduQNyR+6A3HtyB+SO3AG5I3dA7sgdkHtP7oDckTsgd+QOyB25A3LvyR2QO3IH5I7cAbkjd0DuPbkDckfugNyROyB35A7IvSd3QO7IHZA7cgfkPkrugNyROyB35A7IHbkDcu/JHZA7cgfkjtwBuSN3QO49uQNyR+6A3JE7IHfkDsi9Jff/7NRBSkNBEEXRKsWAkvx8JGrQQEgEUchMCEKmzpy4/9WIK+iadnPOFh7vBiDufaG0OSDuiDsg7og7IO6IOyDuiDsg7uJucxB3xB0Qd8QdEHfEHRB3xB0Qd8QdxN3RxR0Qd8QdEHfEHRB3xB0Qd8QdEHdxtzmIO+IOiDviDog74g6IO+IOiDviDuLu6OIOiDviDog74g6IO+IOiDviDmTbPkbCUtz/gbjfxkj4ybZ19A2Ysu09BsJXth2jb8Bntn3EQNhl20OMDzx9mmMYvGTBW/QNOGbBehGDYD5kwXf0DXjOiqdB6s58yopL9A14zZL9NgbA5pAld9E34Ddrbh7v50V0jOX2vMuaVXQO+GPv7lKbCKMwAJ9j2ikTJ2OMVhikpkjjhS2tgkpFFKogIope6P63ooIXSXeQ8z3POt6f4TChXMwdWOctcBP7DniWt8AU+w74krtg7GLfAd0id8Cj2H/Ace6AVew/YMptMA5RAPAht8D3qAD4nFvgflQAzMaEci9MwIOEcqNhwJMxodxlLnCa/8GrqAIY+iwHBSZglf/AOI9CgKv8C75GJcBykZCbLkoBHicsTgIQdq+Gb1EN0L3OxvEj6gFmF9k0zqMiYNlnwzjqoiRg3mezuDdEUcD8LBvFryHKApaX2STOuygMGK6yQXyM4oCbbA2LgygPmPpsCpuTaAAwu5vtYLzuog3AdJGN4Ok8mgF0L/tsAOspmgIMb86yOH4fRHOA7uGnrIvx+Ge0CVher7MixqO3QzQMeL96fnmYhTBuTl90AfCHHThEAQAGAQAICw40LBhta37AYDHZ/P97fIfgQYhz3jPbep/UCrs9OiQAAICBILT+qafPvoYK5BYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAQAAAAAAAAAAAAAAAAAAAAAA8J8HasaIBWRZAAAAAElFTkSuQmCC';const AnnotatedImage=({imageSrc,fetching=false,markers,selectedIndex,onAdd,onSelect,updateModel})=>{const[loaded,setLoaded]=(0,react.useState)(false);const[imageSize,setImageSize]=(0,react.useState)({width:0,height:0});const fallbackSrc=imageSrc?imageSrc:defaultSrc;const srcUrl=(0,maybeConvertBase64EncodedImage["default"])(fallbackSrc);const isLoading=fetching||!loaded;const[open,setOpen]=(0,react.useState)(false);const handlePress=(0,react.useCallback)(()=>{setOpen(true);},[]);const handleDismiss=(0,react.useCallback)(()=>{setOpen(false);},[]);(0,react.useEffect)(()=>Image["default"].getSize(srcUrl,(width,height)=>{setImageSize({width,height});}),[srcUrl]);return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(View["default"],{children:[isLoading&&(0,jsx_runtime.jsx)(Box.Box,{position:"absolute",height:"100%",width:"100%",zIndex:1,children:(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:"100%"})}),(0,jsx_runtime.jsx)(lib_module.TouchableOpacity,{onPress:handlePress,children:(0,jsx_runtime.jsx)(AnnotatedImage_MarkableImagePreview,{photoUri:srcUrl,size:imageSize,markers:markers,style:{aspectRatio:4/3,overflow:'hidden'},markerSelectDisabled:true,onImageLoad:()=>{setLoaded(true);}})})]}),open?(0,jsx_runtime.jsx)(AnnotatedImageModal,{srcUrl:srcUrl||'',imageWidth:imageSize.width,imageHeight:imageSize.height,selectedIndex:selectedIndex!==null&&selectedIndex!==void 0?selectedIndex:undefined,markers:markers,onAdd:onAdd,onSelect:onSelect,updateModel:updateModel,onDismiss:handleDismiss}):null]});};/* harmony default export */ const AnnotatedImage_AnnotatedImage = (AnnotatedImage);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/AnnotatedImage/AnnotatedImageWidget.tsx
const _excluded=["updateModel","onAdd","markers"];function AnnotatedImageWidget_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function AnnotatedImageWidget_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AnnotatedImageWidget_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AnnotatedImageWidget_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}/* harmony default export */ const AnnotatedImageWidget = ((0,connectMobileWidget["default"])(widgetRuntimeOptions.typeKey,AnnotatedImage_AnnotatedImage,widgetRuntimeOptions,{},_ref=>{let{updateModel,onAdd,markers}=_ref,rest=(0,objectWithoutProperties["default"])(_ref,_excluded);return AnnotatedImageWidget_objectSpread(AnnotatedImageWidget_objectSpread({},rest),{},{updateModel,markers:markers,onAdd:markers=>{updateModel({markers});onAdd===null||onAdd===void 0?void 0:onAdd();}});}));

/***/ }),

/***/ 360062:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ connectWidget)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(961639);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(985707);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-redux@7.2.4_react-dom@18.3.1_react@18.3.1__react-native@0.74.3_@babel+core@7.24.9_@babe_az4c6i5siqhukmd7qezh6vzqeq/node_modules/react-redux/es/index.js + 19 modules
var es = __webpack_require__(66612);
// EXTERNAL MODULE: ../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js
var lodash = __webpack_require__(410642);
var lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);
// EXTERNAL MODULE: ../packages/common/immutable.ts
var immutable = __webpack_require__(789572);
// EXTERNAL MODULE: ../frontend/src/components/plugins/index.ts + 1 modules
var plugins = __webpack_require__(720908);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/mobile/utils/getWidgetStyleConfig.ts
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const isConfigWithVariants=config=>!!config&&'variants'in config;const getWidgetStyleConfig=({styles,validation,label})=>{var _styles$prefix,_styles$providesStyle;if(!styles)return;const base={label:!!label,validation:!!validation,prefix:(_styles$prefix=styles===null||styles===void 0?void 0:styles.prefix)!==null&&_styles$prefix!==void 0?_styles$prefix:'',providesStyleContext:(_styles$providesStyle=styles===null||styles===void 0?void 0:styles.providesStyleContext)!==null&&_styles$providesStyle!==void 0?_styles$providesStyle:false};if(!isConfigWithVariants(styles)){const{props={}}=styles!==null&&styles!==void 0?styles:{};return _objectSpread(_objectSpread({},base),{},{variants:{default:props}});}const{variants}=styles;return _objectSpread(_objectSpread({},base),{},{variants});};/* harmony default export */ const utils_getWidgetStyleConfig = (getWidgetStyleConfig);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/common/events/useEventCallbacks.tsx + 2 modules
var useEventCallbacks = __webpack_require__(746968);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(453175);
;// CONCATENATED MODULE: ../frontend/src/components/BaseErrorBoundary.native-web.tsx
const BaseErrorBoundary=({boundaryName:_boundaryName,children})=>{return (0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children});};
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/common/WidgetErrorBoundaryCompat.tsx
const InnerWidgetErrorBoundaryError=({errorMessage,onClickReload,shouldShowReloadButton})=>(0,jsx_runtime.jsxs)("div",{"data-testid":"Widgets::ErrorBoundary_div",children:[(0,jsx_runtime.jsxs)("code",{children:[" Error: ",errorMessage,"... "]}),shouldShowReloadButton&&(0,jsx_runtime.jsx)("button",{type:"button",onClick:onClickReload,children:"reload"})]});
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/common/WidgetErrorBoundary.tsx
function WidgetErrorBoundary_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function WidgetErrorBoundary_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?WidgetErrorBoundary_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WidgetErrorBoundary_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const useErrorBoundaryClientRateLimit=({maxClickCount=3})=>{const[reloadClickCount,setReloadClickCount]=(0,react.useState)(0);const handleClickReload=(0,react.useCallback)(resetError=>{setReloadClickCount(prev=>prev+1);resetError();},[setReloadClickCount]);const shouldAllowReload=reloadClickCount<maxClickCount;return{handleClickReload,shouldAllowReload};};const WidgetErrorBoundary=props=>{const{id:widgetId,largeScreen,editMode,fetching,namespace,position,widgetType,children}=props;const{handleClickReload,shouldAllowReload}=useErrorBoundaryClientRateLimit({});return (0,jsx_runtime.jsx)(BaseErrorBoundary,{boundaryName:widgetType!==null&&widgetType!==void 0?widgetType:'unknown',team:"@tryretool/building-ui-experience",fallback:({error,resetError})=>(0,jsx_runtime.jsx)(InnerWidgetErrorBoundaryError,{errorMessage:error.message.substring(0,160),onClickReload:()=>handleClickReload(resetError),shouldShowReloadButton:shouldAllowReload}),onBeforeCapture:(scope,_error,componentStack)=>{scope.setExtras({info:componentStack,editMode,fetching,largeScreen,namespace:namespace===null||namespace===void 0?void 0:namespace.getNamespace(),position:position===null||position===void 0?void 0:position.toJSON(),widgetId});scope.setLevel('fatal');scope.setTags({widget:widgetType});},children:children});};const withWidgetErrorBoundary=(widgetType,Widget)=>{const WithWidgetErrorBoundary=props=>(0,jsx_runtime.jsx)(WidgetErrorBoundary,WidgetErrorBoundary_objectSpread(WidgetErrorBoundary_objectSpread({},props),{},{widgetType:widgetType,children:(0,jsx_runtime.jsx)(Widget,WidgetErrorBoundary_objectSpread({},props))}));WithWidgetErrorBoundary.displayName=`WithWidgetErrorBoundary(${Widget.displayName||Widget.name||widgetType})`;return WithWidgetErrorBoundary;};
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/disable/DisabledByContainerContext.ts
var DisabledByContainerContext = __webpack_require__(981178);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/v2/api/disable/useDisabledByContainer.ts
function useDisabledByContainer(){return (0,react.useContext)(DisabledByContainerContext["default"]);}
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/jsApi/widgetApiRef.ts
var widgetApiRef = __webpack_require__(664075);
// EXTERNAL MODULE: ../node_modules/.pnpm/immutable@4.0.0-rc.12/node_modules/immutable/dist/immutable.es.js
var immutable_es = __webpack_require__(883006);
// EXTERNAL MODULE: ../packages/runtimeShared/plugins/widgets/v2/api/values/defaultValues.ts
var defaultValues = __webpack_require__(670757);
;// CONCATENATED MODULE: ../frontend/src/components/design-system/Label/constants.ts
const LABEL_WIDTH_UNITS=['%','px','col'];const DEFAULT_LABEL_WIDTH='33';const DEFAULT_INLINE_LABEL_WIDTH='100';const DEFAULT_LABEL_WIDTH_UNIT='%';
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/common/layoutConstants.ts
var layoutConstants = __webpack_require__(849967);
;// CONCATENATED MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/defaultValues.ts
function defaultValues_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function defaultValues_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?defaultValues_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):defaultValues_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const defaultValueByPropertyDesktop={label:'Label',labelWidth:DEFAULT_LABEL_WIDTH,labelWidthUnit:DEFAULT_LABEL_WIDTH_UNIT,showBorder:true,showHeaderBorder:true,showFooterBorder:true,margin:layoutConstants.DEFAULT_MARGIN};const defaultValueByPropertyMobile=defaultValues_objectSpread(defaultValues_objectSpread({},defaultValueByPropertyDesktop),{},{showBorder:false});function getDefaultValues(config,{hasEvents=false,isMobile=false}){const defaultValueByProperty=isMobile?defaultValueByPropertyMobile:defaultValueByPropertyDesktop;return Object.entries(config).reduce((defaults,[key,type])=>{var _defaultValueByProper;defaults[key]=(_defaultValueByProper=defaultValueByProperty[key])!==null&&_defaultValueByProper!==void 0?_defaultValueByProper:(0,defaultValues.getDefaultValue)(type);return defaults;},defaultValues_objectSpread({},hasEvents?{events:immutable_es["default"].OrderedMap()}:{}));}
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/useModelValues.ts
var useModelValues = __webpack_require__(241387);
// EXTERNAL MODULE: ../frontend/src/components/plugins/widgets/v2/api/values/useUpdateModel.ts + 1 modules
var useUpdateModel = __webpack_require__(684313);
// EXTERNAL MODULE: ../frontend/src/hostRuntime/index.ts + 8 modules
var hostRuntime = __webpack_require__(997375);
;// CONCATENATED MODULE: ../frontend/src/store/appModel/triggerPluginApi.ts
function triggerPluginApi({namespacedId,instance,method,paramsObject}){return()=>{return (0,hostRuntime.callHostRuntime)({method:'triggerApiCall',apiMethod:method,namespacedId,instance,paramsObject});};}
// EXTERNAL MODULE: ./src/store/mobileEditorSelector.ts
var mobileEditorSelector = __webpack_require__(762729);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(460648);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/Text/index.js
var Text = __webpack_require__(219740);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/View/index.js
var View = __webpack_require__(130486);
// EXTERNAL MODULE: ./src/toolbox/Box/index.tsx + 3 modules
var Box = __webpack_require__(6814);
// EXTERNAL MODULE: ./src/toolbox/Icon/Icon.tsx + 3683 modules
var Icon = __webpack_require__(312220);
// EXTERNAL MODULE: ./src/toolbox/Shimmer/index.tsx
var Shimmer = __webpack_require__(509039);
// EXTERNAL MODULE: ./src/utilities/colors.ts
var colors = __webpack_require__(240664);
;// CONCATENATED MODULE: ./src/components/design-system/FormFeedback.tsx
function FormFeedback_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function FormFeedback_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FormFeedback_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FormFeedback_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const styles=StyleSheet["default"].create({container:{minHeight:25.5,paddingTop:3,flexDirection:'row',alignItems:'center'},icon:{marginRight:3,height:14,width:14},feedback:{fontWeight:'500',fontSize:13,lineHeight:22}});const FormFeedback=({message,type='valid',loading=false})=>{const{iconName,color}=type==='valid'?{iconName:undefined,color:colors.grey}:type==='disabled'?{iconName:undefined,color:colors.disabledInputText}:{iconName:'bold/interface-alert-warning-circle-alternate',color:colors.errorRed};return loading?(0,jsx_runtime.jsx)(Box.Box,{display:"flex",mb:8,children:(0,jsx_runtime.jsx)(Shimmer.Shimmer,{height:22})}):(0,jsx_runtime.jsx)(View["default"],{style:styles.container,children:message?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!!iconName&&(0,jsx_runtime.jsx)(View["default"],{style:styles.icon,children:(0,jsx_runtime.jsx)(Icon.Icon,{name:iconName,color:color,size:14})}),(0,jsx_runtime.jsx)(Text["default"],{style:FormFeedback_objectSpread(FormFeedback_objectSpread({},styles.feedback),{},{color}),children:message})]}):null});};/* harmony default export */ const design_system_FormFeedback = (FormFeedback);
// EXTERNAL MODULE: ./src/components/LayoutWrapper.tsx + 3 modules
var LayoutWrapper = __webpack_require__(11412);
;// CONCATENATED MODULE: ./src/components/plugins/widgets/connectMobileWidget.tsx
function connectMobileWidget_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function connectMobileWidget_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?connectMobileWidget_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):connectMobileWidget_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const WidgetWrapper=({id,hidden,type,children,modelObj,style,onClick})=>{const isEditorDisplayMode=(0,es.useSelector)(mobileEditorSelector.isEditorDisplayModeSelector);const{padding,width,cornerType,widthGrowFactor,elevation,showBorder}=modelObj;const disableHidden=type.includes('RNCamera')||type.includes('RNScanner');const isHidden=hidden&&!disableHidden;return (0,jsx_runtime.jsx)(LayoutWrapper["default"],{cornerType:cornerType,elevation:elevation,padding:padding,width:width,widthGrowFactor:widthGrowFactor,showBorder:showBorder,type:type,isHidden:isHidden,isEditorDisplayMode:isEditorDisplayMode,pluginId:id,style:style,onClick:onClick,children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})});};function connectWidget(type,Component,runtimeOptions,options,mapProps){var _runtimeOptions$event;const{events=[],template}=runtimeOptions;const plugin=plugins.PluginRepository[type];if(!plugin){throw new Error(`Widget '${type}' must be registered before it is connected.`);}const styles=utils_getWidgetStyleConfig({styles:options.styles,validation:runtimeOptions.validation,label:options.label});const defaults=getDefaultValues(template,{hasEvents:!!((_runtimeOptions$event=runtimeOptions.events)!==null&&_runtimeOptions$event!==void 0&&_runtimeOptions$event.length),isMobile:true});plugin.template=values=>(0,immutable.makeTypedMap)(defaults).merge(values);plugin.options=connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},plugin.options),options),runtimeOptions),{},{styles});const RetoolWidget=({id,instance,rgProps,namespace,fetching})=>{var _modelObj$hidden;const instanceCompat=instance==null?[]:[instance];const modelObj=(0,useModelValues["default"])({config:template,id,instance:instanceCompat});const updateModel=(0,useUpdateModel["default"])(id,instanceCompat);const disabledByContainer=useDisabledByContainer();const dispatch=(0,es.useDispatch)();const apiRef=(0,widgetApiRef.useWidgetApiRef)(id,instanceCompat);const callbacks=(0,useEventCallbacks["default"])(id,instanceCompat,events);const hidden=(_modelObj$hidden=modelObj.hidden)!==null&&_modelObj$hidden!==void 0?_modelObj$hidden:false;const style=modelObj.style;const errorMessage=runtimeOptions.validation&&!modelObj.hideValidationMessage?modelObj.validationMessage:undefined;const labelCaption=modelObj.labelCaption;const disabled=disabledByContainer||modelObj.disabled;const formFeedbackComponent=(0,react.useMemo)(()=>{if(errorMessage){return (0,jsx_runtime.jsx)(design_system_FormFeedback,{message:errorMessage,type:"invalid"});}else if(labelCaption){return (0,jsx_runtime.jsx)(design_system_FormFeedback,{message:labelCaption,type:disabled?'disabled':'valid'});}else{return null;}},[disabled,errorMessage,labelCaption]);const renderWrapper=(0,react.useCallback)(children=>{const onClick=(()=>{if(type==='RNContainerWidget'){var _modelObj$events$size,_modelObj$events;const numClickEvents=(_modelObj$events$size=(_modelObj$events=modelObj.events)===null||_modelObj$events===void 0?void 0:_modelObj$events.size)!==null&&_modelObj$events$size!==void 0?_modelObj$events$size:0;if(numClickEvents>0){return()=>{var _callbacks$onClick;(_callbacks$onClick=callbacks.onClick)===null||_callbacks$onClick===void 0?void 0:_callbacks$onClick.call(callbacks);};}}})();return (0,jsx_runtime.jsxs)(WidgetWrapper,{id:id,hidden:hidden,type:type,modelObj:modelObj,style:style,onClick:onClick,children:[children,formFeedbackComponent]},id);},[id,hidden,modelObj,style,formFeedbackComponent,callbacks]);const props=mapProps(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},modelObj),callbacks),{},{style,apiRef,id,updateModel,triggerApiCall:({method,paramsObject})=>{return dispatch(triggerPluginApi({namespacedId:id,instance:instanceCompat,method,paramsObject}));},instance,rgProps,fetching,renderWrapper,namespace,disabled}));const shouldRenderWrapper=!(type.includes('RNFab')||type.includes('RNIcon'));if(shouldRenderWrapper){return renderWrapper((0,jsx_runtime.jsx)(Component,connectMobileWidget_objectSpread({},props)));}else{return (0,jsx_runtime.jsx)(Component,connectMobileWidget_objectSpread(connectMobileWidget_objectSpread({},props),{},{renderWrapper:renderWrapper}));}};RetoolWidget.displayName=`${type}(${Component.displayName||Component.name||'Component'})`;return (0,react.memo)(withWidgetErrorBoundary(type,RetoolWidget),(lodash_default()).isEqual);}

/***/ }),

/***/ 249244:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Fab: () => (/* reexport */ Fab)
});

// EXTERNAL MODULE: ../node_modules/.pnpm/@babel+runtime@7.24.8/node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(961639);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(985707);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/StyleSheet/index.js + 5 modules
var StyleSheet = __webpack_require__(460648);
// EXTERNAL MODULE: ../node_modules/.pnpm/react-native-web@0.19.10_encoding@0.1.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-native-web/dist/exports/TouchableOpacity/index.js
var TouchableOpacity = __webpack_require__(236127);
// EXTERNAL MODULE: ./src/toolbox/Box/index.tsx + 3 modules
var Box = __webpack_require__(6814);
// EXTERNAL MODULE: ./src/toolbox/colors/palette.ts
var palette = __webpack_require__(693957);
// EXTERNAL MODULE: ./src/toolbox/common/hitSlop.ts
var hitSlop = __webpack_require__(214638);
// EXTERNAL MODULE: ./src/toolbox/Icon/index.tsx
var Icon = __webpack_require__(584477);
// EXTERNAL MODULE: ../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(453175);
;// CONCATENATED MODULE: ./src/toolbox/Fab/Fab.tsx
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}const styles=StyleSheet["default"].create({button:_objectSpread({borderRadius:28,minWidth:56,height:56,alignItems:'center',justifyContent:'center'},{shadowColor:palette.Color.gray900,shadowOffset:{width:0,height:2},shadowOpacity:0.3,shadowRadius:2,boxShadow:'0px 2px 4px rgba(0, 0, 0, 0.3)'})});const _Fab=(props,ref)=>{const{disabled=false,backgroundColor=palette.Color.gray900,label,onPress,testId='fab'}=props;const style=(0,react.useMemo)(()=>{const vars=[styles.button,{width:'100%',borderWidth:2,borderColor:backgroundColor,backgroundColor,opacity:disabled?0.75:1}];return StyleSheet["default"].flatten(vars);},[backgroundColor,disabled]);return (0,jsx_runtime.jsx)(TouchableOpacity["default"],{hitSlop:hitSlop.hitSlop,style:style,onPress:onPress,ref:ref,disabled:disabled,activeOpacity:0.75,testID:testId,children:(0,jsx_runtime.jsx)(Box.Box,{display:"flex",flex:1,justifyContent:"center",px:16,children:label?label:(0,jsx_runtime.jsx)(Icon.Icon,{name:"bold/interface-add-1",color:palette.Color.alwaysWhite,size:30})})});};_Fab.displayName='Fab';const Fab=(0,react.forwardRef)(_Fab);
;// CONCATENATED MODULE: ./src/toolbox/Fab/index.tsx


/***/ })

}])
//# sourceMappingURL=8443.3e3acaf1.chunk.js.map